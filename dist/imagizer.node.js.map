{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c17ef0453856bd972eb2","webpack:///./src/main.js","webpack:///./src/classes/Project.js","webpack:///./~/buffer/index.js","webpack:///./~/base64-js/index.js","webpack:///./~/ieee754/index.js","webpack:///./~/isarray/index.js","webpack:///./src/classes/CanvasWrapper.js","webpack:///./src/helpers/common.js","webpack:///external \"canvas\"","webpack:///./src/classes/Layer.js","webpack:///./src/classes/LayerObject.js","webpack:///./src/classes/EffectsRepository.js","webpack:///./src/classes/effects/point/GrayScale.js","webpack:///./src/classes/effects/BasePoint.js","webpack:///./src/classes/effects/Base.js","webpack:///./~/extend/index.js","webpack:///./src/classes/effects/point/Sepia.js","webpack:///./src/classes/effects/point/Contrast.js","webpack:///./src/classes/effects/point/Brightness.js","webpack:///./src/classes/effects/point/Diffusion.js","webpack:///./src/classes/effects/point/Dither.js","webpack:///./src/classes/effects/point/Exposure.js","webpack:///./src/classes/effects/point/Gain.js","webpack:///./src/classes/effects/point/Gamma.js","webpack:///./src/classes/effects/point/HSBAdjust.js","webpack:///./src/helpers/color.js","webpack:///./src/classes/effects/point/InvertAlpha.js","webpack:///./src/classes/effects/point/Invert.js","webpack:///./src/classes/effects/point/Levels.js","webpack:///./src/classes/effects/point/Rescale.js","webpack:///./src/classes/effects/point/Solarize.js","webpack:///./src/classes/effects/point/Threshold.js","webpack:///./src/classes/effects/point/Tritone.js","webpack:///./src/classes/effects/point/Dissolve.js","webpack:///./src/classes/effects/point/Edge.js","webpack:///./src/classes/effects/point/ChannelMix.js","webpack:///./src/classes/effects/point/AutoContrast.js","webpack:///./src/classes/effects/transform/Diffuse.js","webpack:///./src/classes/effects/BaseTransform.js","webpack:///./src/classes/effects/transform/Kaleidoscope.js","webpack:///./src/classes/effects/transform/Marble.js","webpack:///./src/helpers/noise.js","webpack:///./src/classes/effects/transform/Pinch.js","webpack:///./src/classes/effects/transform/Ripple.js","webpack:///./src/classes/effects/transform/Shear.js","webpack:///./src/classes/effects/transform/Sphere.js","webpack:///./src/classes/effects/transform/Swim.js","webpack:///./src/classes/effects/transform/Twirl.js","webpack:///./src/classes/effects/transform/Water.js","webpack:///./src/classes/effects/transform/Circle.js","webpack:///./src/classes/effects/transform/Rotate.js","webpack:///./src/classes/effects/transform/Offset.js","webpack:///./src/classes/effects/transform/Polar.js","webpack:///./src/classes/effects/transform/Perspective.js","webpack:///./src/classes/effects/custom/AutoWhiteBalance.js","webpack:///./src/classes/effects/BaseCustom.js","webpack:///./src/classes/effects/custom/FillColor.js","webpack:///./src/classes/effects/custom/Flip.js","webpack:///./src/classes/effects/custom/Block.js","webpack:///./src/classes/effects/custom/Border.js","webpack:///./src/classes/effects/custom/Emboss.js","webpack:///./src/classes/effects/custom/ComponentStretching.js","webpack:///external \"fs\"","webpack:///./src/classes/Image.js","webpack:///./src/classes/BaseOnLayer.js","webpack:///./src/helpers/resize.js"],"names":["imagizer","Project","Image","module","exports","define","window","Imagizer","width","height","parameters","imageData","effects","layers","startTime","Date","initialize","canvas","getContext","getImageData","layer","push","end","getTime","selector","imageType","i","container","exportedImage","length","x","getX","y","getY","getWidth","getHeight","exportLayer","blendingMode","getParameter","effect","run","putImageData","fs","require","img","toDataURL","data","replace","buff","Buffer","writeFile","document","querySelector","src","appendChild","name","get","newWidth","newHeight","mode","destroy","resize","CanvasWrapper","context","Canvas","createElement","style","position","left","top","setWidth","setHeight","body","value","setAttribute","type","removeChild","mergeImageData","mergePixelCallback","cropImageData","mod","triangle","smoothStep","brightness","isNode","blendingModes","lighten","bottomPixel","topPixel","darken","multiply","average","add","Math","min","subtract","difference","abs","negation","screen","exclusion","overlay","softLight","hardLight","colorDodge","colorBurn","max","linearDodge","linearBurn","linearLight","vividLight","pinLight","hardMix","reflect","glow","phoenix","bottom","pixelCallback","xx","yy","firstOldPixelIndex","firstNewPixelIndex","pixelResult","r","g","b","a","mergedR","mergedG","mergedB","mergedA","rootA","outA","rootR","rootG","rootB","oldImageData","newImageData","startX","startY","oldWidth","n","floor","pixel","Layer","objects","background_color","applyEffect","color","createImageData","obj","put","layerObject","exportObject","params","crop","moveX","moveY","LayerObject","opts","setX","setY","isLayerResize","oldHeight","ratioX","ratioY","moveXY","getObject","object","setImageData","setXY","availableEffects","_class","getName","EffectsRepository","GrayScaleEffect","newRGB","BasePointEffect","getDefaultParameters","firstPixelIndex","result","imageDataCopy","Uint8ClampedArray","getIndex","normalizePixelValue","sandbox","getPixel","index","getOriginalPixel","setPixel","rgba","before","call","callback","set","BaseEffect","sepiaValue","tmp","ContrastEffect","contrast","factor","BrightnessEffect","DiffusionEffect","matrix","levels","colorDither","granulate","sum","map","div","parseInt","red1","green1","blue1","red2","green2","blue2","tmpPixel","tmpRed","tmpGreen","tmpBlue","j","iy","jx","w","grayScale","DitherEffect","matrices","ditherMagic4x4Matrix","ditherOrdered4x4Matrix","ditherLines4x4Matrix","dither90Halftone6x6Matrix","ditherOrdered6x6Matrix","ditherOrdered8x8Matrix","ditherCluster3Matrix","ditherCluster4Matrix","ditherCluster8Matrix","rows","cols","sqrt","col","row","v","red","green","blue","ExposureEffect","exposure","exp","GainEffect","gain","bias","GammaEffect","gammaRed","gammaGreen","gammaBlue","table","pow","HSBAdjustEffect","h","s","hsb","PI","RGBtoHSB","HSBtoRGB","mixColors","hexToRGB","RGBtoHex","RGBtoXYZ","RGBtoCIELab","CIELabToXYZ","CIELabToRGB","hue","saturation","cmax","cmin","redc","greenc","bluec","f","p","q","t","rgb1","rgb2","hex","bin","Array","join","toString","toUpperCase","var_R","var_G","var_B","z","xyz","var_X","var_Y","var_Z","l","InvertAlphaEffect","InvertEffect","LevelsEffect","low","high","lowOutput","highOutput","Histogram","offset","stride","histogram","minValue","maxValue","minFrequency","maxFrequency","mean","numSamples","isGray","RED","GREEN","BLUE","GRAY","Infinity","getNumSamples","getFrequency","channel","getMinFrequency","getMaxFrequency","getMinValue","getMaxValue","getMeanValue","lut","RescaleEffect","scale","SolarizeEffect","ThresholdEffect","grayscale","TritoneEffect","shadowColor","midColor","highColor","DissolveEffect","density","softness","d","minDensity","maxDensity","random","EdgeEffect","matrixes","robertsV","robertsH","prewittV","prewittH","sobelV","sobelH","freiChenV","freiChenH","hEdgeMatrix","vEdgeMatrix","rh","gh","bh","rv","gv","bv","ix","mOffset","pixel2","ChannelMixEffect","blueGreen","redBlue","greenRed","intoR","intoG","intoB","AutoContrastEffect","remap","DiffuseEffect","sinTable","cosTable","angle","sin","cos","distance","BaseTransformEffect","newXY","newX","newY","oldPixelIndex","newPixelIndex","KaleidoscopeEffect","centreX","centreY","angle2","sides","radius","icentreX","icentreY","dx","dy","theta","atan2","c","radiusC","MarbleEffect","xScale","yScale","amount","turbulence","displacementMap","noise2","displacement","isInit","noise","init","B","BM","N","P","G1","G2","G3","k","normalize2","normalize3","arr","sCurve","lerp","noise1","bx0","bx1","rx0","rx1","sx","u","by0","by1","b00","b10","b01","b11","ry0","ry1","sy","noise3","bz0","bz1","rz0","rz1","sz","turbulence3","octaves","PinchEffect","radius2","e","RippleEffect","xAmplitude","yAmplitute","xWaveLength","yWaveLength","waveType","nx","ny","fx","fy","ShearEffect","xAngle","yAngle","xOffset","yOffset","shx","shy","SphereEffect","refractionIndex","a2","b2","x2","y2","rRefraction","z2","acos","angle1","asin","ret","tan","SwimEffect","time","stretch","m00","m01","m10","m11","TwirlEffect","iCentreX","iCentreY","WaterEffect","waveLength","amplitude","phase","distance2","CircleEffect","spreadAngle","RotateEffect","wrap","PolarEffect","sqr","theta2","m","xMax","yMax","xmax","ymax","atan","PerspectiveEffect","x0","y0","x1","y1","x3","y3","unitSquareToQuad","dx1","dy1","dx2","dy2","dx3","dy3","a11","a21","a31","a12","a22","a32","a13","a23","a33","A","C","D","E","F","G","H","I","AutoWhiteBalanceEffect","intensity","sumA","sumB","lab","avgSumA","avgSumB","aDelta","bDelta","BaseCustomEffect","getOriginalPixelByIndex","setPixelByIndex","FillColorEffect","FlipEffect","operation","newW","newH","newRow","newCol","BlockEffect","blockSize","by","bx","BorderEffect","leftBorder","rightBorder","topBorder","bottomBorder","borderColor","EmbossEffect","azimuth","elevation","width45","emboss","bumpMapWidth","bumpPixels","Nx","Ny","Nz","Lx","Ly","Lz","Nz2","NzLz","NdotL","s1","s2","s3","shade","background","pixelScale","bumpIndex","ComponentStretchingEffect","minR","minG","minB","maxR","maxG","maxB","url","image","load","clientWidth","clientHeight","drawImage","onload","readFileSync","BaseOnLayerObject","resizeNearestNeighbour","resizeBilinearInterpolation","resizeBiquadraticInterpolation","oldPixelIndex00","oldPixelIndex01","oldPixelIndex10","oldPixelIndex11","interpolate","f1","f2","f3","interpolateNormalize","oldPixelIndex02","oldPixelIndex12","oldPixelIndex20","oldPixelIndex21","oldPixelIndex22"],"mappings":"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ACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,wCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAwB,eAAe;AACvC;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,yBAAwB,QAAQ;AAChC;AACA,sBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA,IAAG;AACH;AACA,gBAAe,SAAS;AACxB;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC5vDA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAQ,WAAW;;AAEnB;AACA;AACA;AACA,SAAQ,WAAW;;AAEnB;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,SAAQ,WAAW;;AAEnB;AACA;AACA,SAAQ,UAAU;;AAElB;AACA;;;;;;;ACnFA,kBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;;;;ACJA;;;;KAEM6D,a;AACF,4BAAYtD,KAAZ,EAAmBC,MAAnB,EAA2B;AAAA;;AACvB,cAAKQ,MAAL,GAAc,IAAd;AACA,cAAK8C,OAAL,GAAe,IAAf;AACA,cAAKvD,KAAL,GAAa,CAAb;AACA,cAAKC,MA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","file":"imagizer.node.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"canvas\"), require(\"fs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"canvas\", \"fs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imagizer\"] = factory(require(\"canvas\"), require(\"fs\"));\n\telse\n\t\troot[\"imagizer\"] = factory(root[\"canvas\"], root[\"fs\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_63__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c17ef0453856bd972eb2","import Project from './classes/Project';\nimport Image from './classes/Image';\n\nlet imagizer = {\n    Project,\n    Image\n};\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports = imagizer;\n}\nelse {\n    if (typeof define === 'function' && define.amd) {\n        define([], function () {\n            return imagizer;\n        });\n    }\n    else {\n        window.Imagizer = imagizer;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import CanvasWrapper from './CanvasWrapper';\nimport Layer from './Layer';\nimport {\n    mergeImageData,\n    mergePixelCallback,\n    isNode\n} from '../helpers/common';\nimport EffectsRepository from './EffectsRepository';\n\nclass Project {\n    constructor(width, height, parameters = {}) {\n        this.imageData = null;\n        this.effects = [];\n        this.layers = [];\n        this.startTime = new Date();\n        this.initialize(width, height, parameters);\n    }\n\n    initialize(width, height, parameters) {\n        this.parameters = parameters;\n        this.width = width;\n        this.height = height;\n        this.canvas = new CanvasWrapper(width, height);\n        this.imageData = this.canvas.getContext().getImageData(0, 0, width, height);\n    }\n\n    createLayer(parameters) {\n        let layer = new Layer(this.width, this.height, parameters);\n        this.layers.push(layer);\n        return layer;\n    }\n\n    getTime() {\n        let end = new Date();\n        return end.getTime() - this.startTime.getTime();\n    }\n\n    exportTo(selector, imageType = 'image/png') {\n        var i,\n            container,\n            exportedImage = isNode() ? null : new window.Image();\n\n        for (i = 0; i < this.layers.length; i++) {\n            this.imageData = mergeImageData({\n                width: this.width,\n                height: this.height,\n                imageData: this.imageData\n            }, {\n                x: this.layers[i].getX(),\n                y: this.layers[i].getY(),\n                width: this.layers[i].getWidth(),\n                height: this.layers[i].getHeight(),\n                imageData: this.layers[i].exportLayer(),\n                blendingMode: this.layers[i].getParameter(\"blendingMode\")\n            }, mergePixelCallback);\n        }\n\n        for (i = 0; i < this.effects.length; i++) {\n            this.imageData = this.effects[i].effect.run(this.imageData, this.effects[i].parameters);\n        }\n\n        this.canvas.getContext().putImageData(this.imageData, 0, 0);\n\n        if (isNode()) {\n            let fs = require(\"fs\"),\n                img = this.canvas.toDataURL(),\n                data = img.replace(/^data:image\\/\\w+;base64,/, \"\"),\n                buff = new Buffer(data, 'base64');\n\n            fs.writeFile(selector, buff);\n        }\n        else {\n            container = document.querySelector(selector);\n            exportedImage.src = this.canvas.toDataURL(imageType);\n            container.appendChild(exportedImage);\n        }\n    }\n\n    applyEffect(name, parameters = {}) {\n        this.effects.push({\n            name,\n            effect: new (EffectsRepository.get(name)),\n            parameters\n        });\n    }\n\n    resize(newWidth, newHeight, mode) {\n        this.canvas.destroy();\n        this.canvas = null;\n        this.imageData = null;\n        this.initialize(newWidth, newHeight, mode);\n\n        for (let i = 0; i < this.layers.length; i += 1) {\n            this.layers[i].resize(newWidth, newHeight, mode);\n        }\n\n        return this;\n    }\n}\n\nexport default Project;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/Project.js","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 3\n// module chunks = 0","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return b64.length * 3 / 4 - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/index.js\n// module id = 4\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 5\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 6\n// module chunks = 0","import {isNode} from '../helpers/common';\n\nclass CanvasWrapper {\n    constructor(width, height) {\n        this.canvas = null;\n        this.context = null;\n        this.width = 0;\n        this.height = 0;\n        this.initialize(width, height);\n    }\n\n    initialize(width = 0, height = 0) {\n        if (isNode()) {\n            let Canvas = require('canvas');\n            this.canvas = new Canvas(width, height);\n        } else {\n            this.canvas = document.createElement(\"canvas\");\n\n            // hide from viewport\n            this.canvas.style.position = \"absolute\";\n            this.canvas.style.left = \"-99999px\";\n            this.canvas.style.top = \"-99999px\";\n\n            this.setWidth(width);\n            this.setHeight(height);\n\n            document.body.appendChild(this.canvas);\n        }\n    }\n\n    setWidth(value) {\n        this.canvas.setAttribute(\"width\", \"\" + value);\n        this.width = value;\n        return this;\n    }\n\n    setHeight(value) {\n        this.canvas.setAttribute(\"height\", \"\" + value);\n        this.height = value;\n        return this;\n    }\n\n    getContext() {\n        if (!this.context) {\n            this.context = this.canvas.getContext(\"2d\");\n        }\n        return this.context;\n    }\n\n    getCanvas() {\n        return this.canvas;\n    }\n\n    toDataURL(type) {\n        return this.canvas.toDataURL(type);\n    }\n\n    destroy() {\n        if (!isNode()) {\n            document.body.removeChild(this.canvas);\n        }\n        this.canvas = null;\n        this.context = null;\n    }\n}\n\nexport default CanvasWrapper;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/CanvasWrapper.js","let blendingModes = {\n    lighten: function (bottomPixel, topPixel) {\n        return topPixel > bottomPixel ? topPixel : bottomPixel;\n    },\n    darken: function (bottomPixel, topPixel) {\n        return topPixel > bottomPixel ? bottomPixel : topPixel;\n    },\n    multiply: function (bottomPixel, topPixel) {\n        return bottomPixel * topPixel / 255;\n    },\n    average: function (bottomPixel, topPixel) {\n        return bottomPixel + topPixel / 2;\n    },\n    add: function (bottomPixel, topPixel) {\n        return Math.min(255, bottomPixel + topPixel);\n    },\n    subtract: function (bottomPixel, topPixel) {\n        return bottomPixel + topPixel < 255 ? 0 : bottomPixel + topPixel - 255;\n    },\n    difference: function (bottomPixel, topPixel) {\n        return Math.abs(bottomPixel - topPixel);\n    },\n    negation: function (bottomPixel, topPixel) {\n        return 255 - Math.abs(255 - bottomPixel - topPixel);\n    },\n    screen: function (bottomPixel, topPixel) {\n        return 255 - (((255 - bottomPixel) * (255 - topPixel)) >> 8);\n    },\n    exclusion: function (bottomPixel, topPixel) {\n        return bottomPixel + topPixel - 2 * bottomPixel * topPixel / 255;\n    },\n    overlay: function (bottomPixel, topPixel) {\n        return topPixel < 128\n            ? (2 * bottomPixel * topPixel / 255)\n            : (255 - 2 * (255 - bottomPixel) * (255 - topPixel) / 255);\n    },\n    softLight: function (bottomPixel, topPixel) {\n        return topPixel < 128\n            ? (2 * ((bottomPixel >> 1) + 64)) * (topPixel / 255)\n            : 255 - (2 * (255 - (( bottomPixel >> 1) + 64)) * (255 - topPixel) / 255);\n    },\n    hardLight: function (bottomPixel, topPixel) {\n        return blendingModes.softLight(topPixel, bottomPixel);\n    },\n    colorDodge: function (bottomPixel, topPixel) {\n        return topPixel == 255 ? topPixel : Math.min(255, ((bottomPixel << 8 ) / (255 - topPixel)));\n    },\n    colorBurn: function (bottomPixel, topPixel) {\n        return topPixel == 0 ? topPixel : Math.max(0, (255 - ((255 - bottomPixel) << 8 ) / topPixel));\n    },\n    linearDodge: function (bottomPixel, topPixel) {\n        return blendingModes.add(bottomPixel, topPixel);\n    },\n    linearBurn: function (bottomPixel, topPixel) {\n        return blendingModes.subtract(bottomPixel, topPixel);\n    },\n    linearLight: function (bottomPixel, topPixel) {\n        return topPixel < 128\n            ? blendingModes.linearBurn(bottomPixel, 2 * topPixel)\n            : blendingModes.linearDodge(bottomPixel, (2 * (topPixel - 128)));\n    },\n    vividLight: function (bottomPixel, topPixel) {\n        return topPixel < 128\n            ? blendingModes.colorBurn(bottomPixel, 2 * topPixel)\n            : blendingModes.colorDodge(bottomPixel, (2 * (topPixel - 128)));\n    },\n    pinLight: function (bottomPixel, topPixel) {\n        return topPixel < 128\n            ? blendingModes.darken(bottomPixel, 2 * topPixel)\n            : blendingModes.lighten(bottomPixel, (2 * (topPixel - 128)));\n    },\n    hardMix: function (bottomPixel, topPixel) {\n        return blendingModes.vividLight(bottomPixel, topPixel) < 128 ? 0 : 255;\n    },\n    reflect: function (bottomPixel, topPixel) {\n        return topPixel == 255 ? topPixel : Math.min(255, (bottomPixel * bottomPixel / (255 - topPixel)))\n    },\n    glow: function (bottomPixel, topPixel) {\n        return blendingModes.reflect(topPixel, bottomPixel);\n    },\n    phoenix: function (bottomPixel, topPixel) {\n        return Math.min(bottomPixel, topPixel) - Math.max(bottomPixel, topPixel) + 255\n    }\n};\n\nexport function mergeImageData(bottom, top, pixelCallback) {\n    let x, y,\n        xx, yy,\n        firstOldPixelIndex, firstNewPixelIndex,\n        pixelResult;\n\n    for (y = top.y, yy = 0; y < bottom.height && yy < top.height; y += 1, yy += 1) {\n        for (x = top.x, xx = 0; x < bottom.width && xx < top.width; x += 1, xx += 1) {\n            if (xx < top.width && yy < top.height) // overwrite only rect-size of current layer\n            {\n                firstOldPixelIndex = y * bottom.width * 4 + x * 4;\n                firstNewPixelIndex = yy * top.width * 4 + xx * 4;\n\n                pixelResult = pixelCallback({\n                    r: bottom.imageData.data[firstOldPixelIndex + 0],\n                    g: bottom.imageData.data[firstOldPixelIndex + 1],\n                    b: bottom.imageData.data[firstOldPixelIndex + 2],\n                    a: bottom.imageData.data[firstOldPixelIndex + 3]\n                }, {\n                    r: top.imageData.data[firstNewPixelIndex + 0],\n                    g: top.imageData.data[firstNewPixelIndex + 1],\n                    b: top.imageData.data[firstNewPixelIndex + 2],\n                    a: top.imageData.data[firstNewPixelIndex + 3]\n                }, x, y, {\n                    blendingMode: top.blendingMode\n                });\n\n                if (pixelResult !== false) // if skip change\n                {\n                    bottom.imageData.data[firstOldPixelIndex + 0] = pixelResult.r;\n                    bottom.imageData.data[firstOldPixelIndex + 1] = pixelResult.g;\n                    bottom.imageData.data[firstOldPixelIndex + 2] = pixelResult.b;\n                    bottom.imageData.data[firstOldPixelIndex + 3] = pixelResult.a;\n                }\n            }\n        }\n    }\n    return bottom.imageData;\n}\n\nexport function mergePixelCallback(bottomPixel, topPixel, x, y, parameters) {\n    if (topPixel.a === 0) {\n        return false; // skip change - opacity is full\n    }\n\n    // alpha compositing\n    let mergedR,\n        mergedG,\n        mergedB,\n        mergedA = topPixel.a / 255,\n        rootA = bottomPixel.a / 255 * (1 - mergedA),\n        outA = (mergedA + bottomPixel.a * (1 - mergedA) / 255);\n\n    switch (parameters.blendingMode) {\n        case \"lighten\":\n        case \"darken\":\n        case \"multiply\":\n        case \"average\":\n        case \"add\":\n        case \"subtract\":\n        case \"difference\":\n        case \"negation\":\n        case \"screen\":\n        case \"exclusion\":\n        case \"overlay\":\n        case \"softLight\":\n        case \"hardLight\":\n        case \"colorDodge\":\n        case \"colorBurn\":\n        case \"linearDodge\":\n        case \"linearBurn\":\n        case \"linearLight\":\n        case \"vividLight\":\n        case \"pinLight\":\n        case \"hardMix\":\n        case \"reflect\":\n        case \"glow\":\n        case \"phoenix\":\n            topPixel.r = blendingModes[parameters.blendingMode](bottomPixel.r, topPixel.r);\n            topPixel.g = blendingModes[parameters.blendingMode](bottomPixel.g, topPixel.g);\n            topPixel.b = blendingModes[parameters.blendingMode](bottomPixel.b, topPixel.b);\n            break;\n\n        default:\n            break;\n    }\n\n    let rootR = bottomPixel.r;\n    let rootG = bottomPixel.g;\n    let rootB = bottomPixel.b;\n\n    mergedR = topPixel.r * mergedA + rootR * rootA;\n    mergedG = topPixel.g * mergedA + rootG * rootA;\n    mergedB = topPixel.b * mergedA + rootB * rootA;\n\n    mergedR = outA == 0 ? 0 : mergedR / outA;\n    mergedG = outA == 0 ? 0 : mergedG / outA;\n    mergedB = outA == 0 ? 0 : mergedB / outA;\n\n    return {\n        r: Math.min(Math.max(0, mergedR), 255) | 0,\n        g: Math.min(Math.max(0, mergedG), 255) | 0,\n        b: Math.min(Math.max(0, mergedB), 255) | 0,\n        a: (255 * outA) | 0\n    }\n}\n\nexport function cropImageData(oldImageData, newImageData, startX, startY, width, height) {\n    let oldWidth = oldImageData.width,\n        newWidth = newImageData.width,\n        x, y, xx, yy,\n        firstOldPixelIndex, firstNewPixelIndex;\n\n    for (y = startY, yy = 0; y < startY + height && yy < height; y += 1, yy += 1) {\n        for (x = startX, xx = 0; x < startX + width && xx < width; x += 1, xx += 1) {\n            firstOldPixelIndex = y * oldWidth * 4 + x * 4;\n            firstNewPixelIndex = yy * newWidth * 4 + xx * 4;\n\n            newImageData.data[firstNewPixelIndex] = oldImageData.data[firstOldPixelIndex];\n            newImageData.data[firstNewPixelIndex + 1] = oldImageData.data[firstOldPixelIndex + 1];\n            newImageData.data[firstNewPixelIndex + 2] = oldImageData.data[firstOldPixelIndex + 2];\n            newImageData.data[firstNewPixelIndex + 3] = oldImageData.data[firstOldPixelIndex + 3];\n        }\n    }\n\n    return newImageData;\n}\n\nexport function mod(a, b) {\n    var n = Math.floor(a / b);\n    a -= n * b;\n    if (a < 0) {\n        return a + b;\n    }\n    return a;\n}\n\nexport function triangle(x) {\n    var r = mod(x, 1);\n    return 2 * (r < 0.5 ? r : 1 - r);\n}\n\nexport function smoothStep(a, b, x) {\n    if (x < a) {\n        return 0;\n    }\n    if (x >= b) {\n        return 1;\n    }\n    x = (x - a) / (b - a);\n    return x * x * (3 - 2 * x);\n}\n\nexport function brightness(pixel) {\n    return (pixel.r + pixel.g + pixel.b) / 3;\n}\n\nexport function isNode() {\n    return typeof window == 'undefined';\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/common.js","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"canvas\"\n// module id = 9\n// module chunks = 0","import CanvasWrapper from './CanvasWrapper';\nimport LayerObject from './LayerObject';\nimport {\n    mergeImageData,\n    mergePixelCallback\n} from '../helpers/common';\nimport EffectsRepository from './EffectsRepository';\n\nclass Layer {\n    constructor(width, height, parameters = {}) {\n        this.objects = [];\n        this.effects = [];\n        this.x = 0;\n        this.y = 0;\n        this.initialize(width, height, parameters);\n\n        if (parameters.background_color && parameters.background_color !== \"transparent\") {\n            this.applyEffect(\"fill-color\", {\n                color: parameters.background_color\n            });\n        }\n    }\n\n    initialize(width, height, parameters) {\n        this.canvas = new CanvasWrapper(width, height);\n        this.imageData = this.canvas.getContext().createImageData(width, height);\n        this.width = width;\n        this.height = height;\n        this.parameters = parameters;\n    }\n\n    put(obj, x, y) {\n        let put = new LayerObject(obj, this, x, y, {});\n        this.objects.push(put);\n        return put;\n    }\n\n    exportTo(selector, imageType = 'image/png') {\n        this.exportLayer();\n\n        let container = document.querySelector(selector),\n            exportedImage = new Image();\n\n        exportedImage.src = canvas.toDataURL(imageType);\n        container.appendChild(exportedImage);\n    }\n\n    exportLayer() {\n        let i,\n            layerObject;\n\n        for (i = 0; i < this.objects.length; i += 1) {\n            layerObject = this.objects[i];\n            this.imageData = mergeImageData({\n                width: this.width,\n                height: this.height,\n                imageData: this.imageData\n            }, {\n                x: layerObject.getX(),\n                y: layerObject.getY(),\n                width: layerObject.getWidth(),\n                height: layerObject.getHeight(),\n                imageData: layerObject.exportObject()\n            }, mergePixelCallback);\n        }\n\n        for (i = 0; i < this.effects.length; i++) {\n            this.imageData = this.effects[i].effect.run(this.imageData, this.effects[i].params);\n        }\n\n        return this.imageData;\n    }\n\n    applyEffect(name, parameters) {\n        this.effects.push({\n            name,\n            effect: new (EffectsRepository.get(name)),\n            parameters\n        });\n    }\n\n    resize(newWidth, newHeight, mode) {\n        let i;\n\n        this.canvas.destroy();\n        this.canvas = null;\n        this.imageData = null;\n\n        this.initialize(newWidth, newHeight, this.parameters);\n\n        for (i = 0; i < this.objects.length; i += 1) {\n            this.objects[i].resize(newWidth, newHeight, mode, true);\n        }\n\n        return this;\n    }\n\n    crop(startX, startY, width, height) {\n        let i;\n\n        for (i = 0; i < this.objects.length; i += 1) {\n            this.objects[i].crop(startX, startY, width, height);\n        }\n\n        return this;\n    }\n\n    moveXY(x, y) {\n        this.moveX(x);\n        this.moveY(y);\n        return this;\n    }\n\n    moveX(x) {\n        this.x += (x | 0);\n        return this;\n    }\n\n    moveY(y) {\n        this.y += (y | 0);\n        return this;\n    }\n\n    setX(x) {\n        this.x = x;\n        return this;\n    }\n\n    setY(y) {\n        this.y = y;\n        return this;\n    }\n\n    setBlendingMode(blendingMode) {\n        this.parameters.blendingMode = blendingMode;\n    }\n\n    getX() {\n        return this.x;\n    }\n\n    getY() {\n        return this.y\n    }\n\n    getWidth() {\n        return this.width;\n    }\n\n    getHeight() {\n        return this.height;\n    }\n\n    getParameter(name) {\n        return this.parameters[name];\n    }\n}\n\nexport default Layer;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/Layer.js","import CanvasWrapper from './CanvasWrapper';\nimport {cropImageData} from '../helpers/common';\nimport EffectsRepository from './EffectsRepository';\n\nclass LayerObject {\n    constructor(obj, layer, x, y, opts) {\n        this.obj = obj;\n        this.layer = this;\n        this.x = x;\n        this.y = y;\n        this.opts = opts;\n        this.effects = [];\n    }\n\n    getObject() {\n        return this.obj;\n    }\n\n    getX() {\n        return this.x;\n    }\n\n    getY() {\n        return this.y\n    }\n\n    getWidth() {\n        return this.obj.getWidth();\n    }\n\n    getHeight() {\n        return this.obj.getHeight();\n    }\n\n    exportObject() {\n        let imageData = this.obj.getImageData();\n        for (let i = 0; i < this.effects.length; i += 1) {\n            imageData = this.effects[i].effect.run(imageData, this.effects[i].params);\n        }\n        return imageData;\n    }\n\n    applyEffect(name, parameters) {\n        this.effects.push({\n            name,\n            effect: new (EffectsRepository.get(name)),\n            parameters\n        });\n    }\n\n    moveXY(x, y) {\n        this.moveX(x);\n        this.moveY(y);\n        return this;\n    }\n\n    moveX(x) {\n        this.x += (x | 0);\n        return this;\n    }\n\n    moveY(y) {\n        this.y += (y | 0);\n        return this;\n    }\n\n    setXY(x, y) {\n        this.setX(x);\n        this.setY(y);\n        return this;\n    }\n\n    setX(x) {\n        this.x = x;\n        return this;\n    }\n\n    setY(y) {\n        this.y = y;\n        return this;\n    }\n\n    resize(newWidth, newHeight, mode, isLayerResize) {\n        let oldWidth = this.getWidth(),\n            oldHeight = this.getHeight(),\n            ratioX = newWidth / oldWidth,\n            ratioY = newHeight / oldHeight;\n\n        if (isLayerResize) {\n            this.moveXY(-this.getX() * ratioX, -this.getY() * ratioY);\n        }\n\n        this.getObject().resize(newWidth, newHeight, mode);\n\n        return this;\n    }\n\n    crop(startX, startY, width, height) {\n        let object = this.getObject(),\n            oldImageData = object.getImageData(),\n            canvas = new CanvasWrapper(width, height),\n            newImageData = canvas.getContext().createImageData(width, height);\n\n        newImageData = cropImageData(oldImageData, newImageData, startX, startY, width, height);\n\n        object\n            .setImageData(newImageData)\n            .setWidth(width)\n            .setHeight(height);\n\n        this.setXY(startX, startY);\n\n        return this;\n    };\n}\n\nexport default LayerObject;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/LayerObject.js","import GrayScale from './effects/point/GrayScale';\nimport Sepia from './effects/point/Sepia';\nimport Contrast from './effects/point/Contrast';\nimport Brightness from './effects/point/Brightness';\nimport Diffusion from './effects/point/Diffusion';\nimport Dither from './effects/point/Dither';\nimport Exposure from './effects/point/Exposure';\nimport Gain from './effects/point/Gain';\nimport Gamma from './effects/point/Gamma';\nimport HSBAdjust from './effects/point/HSBAdjust';\nimport InvertAlpha from './effects/point/InvertAlpha';\nimport Invert from './effects/point/Invert';\nimport Levels from './effects/point/Levels';\nimport Rescale from './effects/point/Rescale';\nimport Solarize from './effects/point/Solarize';\nimport Threshold from './effects/point/Threshold';\nimport Tritone from './effects/point/Tritone';\nimport Dissolve from './effects/point/Dissolve';\nimport Edge from './effects/point/Edge';\nimport ChannelMix from './effects/point/ChannelMix';\nimport AutoContrast from './effects/point/AutoContrast';\n\nimport Diffuse from './effects/transform/Diffuse';\nimport Kaleidoscope from './effects/transform/Kaleidoscope';\nimport Marble from './effects/transform/Marble';\nimport Pinch from './effects/transform/Pinch';\nimport Ripple from './effects/transform/Ripple';\nimport Shear from './effects/transform/Shear';\nimport Sphere from './effects/transform/Sphere';\nimport Swim from './effects/transform/Swim';\nimport Twirl from './effects/transform/Twirl';\nimport Water from './effects/transform/Water';\nimport Circle from './effects/transform/Circle';\nimport Rotate from './effects/transform/Rotate';\nimport Offset from './effects/transform/Offset';\nimport Polar from './effects/transform/Polar';\nimport Perspective from './effects/transform/Perspective';\n\nimport AutoWhiteBalance from './effects/custom/AutoWhiteBalance';\nimport FillColor from './effects/custom/FillColor';\nimport Flip from './effects/custom/Flip';\nimport Block from './effects/custom/Block';\nimport Border from './effects/custom/Border';\nimport Emboss from './effects/custom/Emboss';\nimport ComponentStretching from './effects/custom/ComponentStretching';\n\nlet availableEffects = {};\n\nfunction add(_class) {\n    if (availableEffects[_class.getName()]) {\n        throw `Effect: ${_class.getName()} exists already!`;\n    }\n    availableEffects[_class.getName()] = _class;\n}\n\nadd(GrayScale);\nadd(Sepia);\nadd(Contrast);\nadd(Brightness);\nadd(Diffusion);\nadd(Dither);\nadd(Exposure);\nadd(Gain);\nadd(Gamma);\nadd(HSBAdjust);\nadd(InvertAlpha);\nadd(Invert);\nadd(Levels);\nadd(Rescale);\nadd(Solarize);\nadd(Threshold);\nadd(Tritone);\nadd(Diffuse);\nadd(Dissolve);\nadd(Kaleidoscope);\nadd(Marble);\nadd(Pinch);\nadd(Ripple);\nadd(Shear);\nadd(Sphere);\nadd(Swim);\nadd(Twirl);\nadd(Water);\nadd(Edge);\nadd(ChannelMix);\nadd(Circle);\nadd(Rotate);\nadd(Offset);\nadd(Polar);\nadd(Perspective);\nadd(AutoContrast);\nadd(AutoWhiteBalance);\nadd(FillColor);\nadd(Flip);\nadd(Block);\nadd(Border);\nadd(Emboss);\nadd(ComponentStretching);\n\nclass EffectsRepository {\n    static get(name) {\n        return availableEffects[name];\n    }\n}\n\nexport default EffectsRepository;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/EffectsRepository.js","import BasePointEffect from '../BasePoint';\n\nclass GrayScaleEffect extends BasePointEffect {\n    static getName() {\n        return 'gray-scale';\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let newRGB = 0.299 * pixel.r + 0.587 * pixel.g + 0.114 * pixel.b;\n        return {\n            r: newRGB,\n            g: newRGB,\n            b: newRGB,\n            a: pixel.a\n        };\n    }\n}\n\nexport default GrayScaleEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/GrayScale.js","import BaseEffect from './Base';\nimport extend from 'extend';\n\nclass BasePointEffect extends BaseEffect {\n    callback(pixel, x, y, parameters, width, height) {\n        throw \"Extend it.\"\n    }\n\n    run(imageData, parameters) {\n\n        parameters = extend(true, {}, this.getDefaultParameters(), parameters);\n\n        let x, y,\n            firstPixelIndex,\n            result,\n            imageDataCopy = new Uint8ClampedArray(imageData.data), // copy image data\n            /**\n             * Get ImageData array index from x and y position\n             * @param x\n             * @param y\n             * @returns {number}\n             */\n            getIndex = function getIndex(x, y) {\n                return y * imageData.width * 4 + x * 4;\n            },\n            normalizePixelValue = function (value) {\n                return Math.min(Math.max(value, 0), 255) | 0;\n            },\n            sandbox = { // object invoked as this in effect callback\n                /**\n                 * Get changed pixel\n                 * @param {int} x\n                 * @param {int} y\n                 * @returns {{r: *, g: *, b: *, a: *}}\n                 */\n                getPixel: function (x, y) {\n                    let index = getIndex(x, y);\n                    return {\n                        r: imageDataCopy[index + 0],\n                        g: imageDataCopy[index + 1],\n                        b: imageDataCopy[index + 2],\n                        a: imageDataCopy[index + 3]\n                    };\n                },\n                /**\n                 * Get original pixel.\n                 * @param {int} x\n                 * @param {int} y\n                 * @returns {{r: *, g: *, b: *, a: *}}\n                 */\n                getOriginalPixel: function (x, y) {\n                    let index = getIndex(x, y);\n                    return {\n                        r: imageData.data[index + 0],\n                        g: imageData.data[index + 1],\n                        b: imageData.data[index + 2],\n                        a: imageData.data[index + 3]\n                    };\n                },\n                /**\n                 * Set new pixel\n                 * @param {int} x\n                 * @param {int} y\n                 * @param {object} rgba\n                 */\n                setPixel: function (x, y, rgba) {\n                    let index = getIndex(x, y);\n                    imageDataCopy[index + 0] = normalizePixelValue(rgba.r);\n                    imageDataCopy[index + 1] = normalizePixelValue(rgba.g);\n                    imageDataCopy[index + 2] = normalizePixelValue(rgba.b);\n                    imageDataCopy[index + 3] = normalizePixelValue(rgba.a);\n                },\n                /**\n                 * Data created by effect init function\n                 */\n                data: null,\n                /**\n                 * ImageData width\n                 */\n                width: imageData.width,\n                /**\n                 * ImageData height\n                 */\n                height: imageData.height\n            };\n\n        sandbox.data = this.before.call(sandbox, parameters, imageData.width, imageData.height, imageData);\n\n        for (y = 0; y < imageData.height; y += 1) {\n            for (x = 0; x < imageData.width; x += 1) {\n                firstPixelIndex = getIndex(x, y);\n\n                result = this.callback.call(sandbox,\n                    {\n                        r: imageDataCopy[firstPixelIndex + 0],\n                        g: imageDataCopy[firstPixelIndex + 1],\n                        b: imageDataCopy[firstPixelIndex + 2],\n                        a: imageDataCopy[firstPixelIndex + 3]\n                    },\n                    x,\n                    y,\n                    parameters,\n                    imageData.width,\n                    imageData.height\n                );\n\n                if (typeof result === \"object\") {\n                    imageDataCopy[firstPixelIndex + 0] = normalizePixelValue(result.r);\n                    imageDataCopy[firstPixelIndex + 1] = normalizePixelValue(result.g);\n                    imageDataCopy[firstPixelIndex + 2] = normalizePixelValue(result.b);\n                    imageDataCopy[firstPixelIndex + 3] = normalizePixelValue(result.a);\n                }\n            }\n        }\n\n        imageData.data.set(imageDataCopy);\n        return imageData;\n    }\n}\n\nexport default BasePointEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/BasePoint.js","class BaseEffect {\n    constructor(opts = {}) {\n        this.opts = opts;\n    }\n\n    getDefaultParameters() {\n        return {};\n    }\n\n    before(parameters, width, height, imageData) {\n        return {};\n    }\n\n    static getName() {\n        throw 'Extend it.';\n    }\n}\n\nexport default BaseEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/Base.js","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extend/index.js\n// module id = 16\n// module chunks = 0","import BasePointEffect from '../BasePoint';\n\nclass GrayScaleEffect extends BasePointEffect {\n    static getName() {\n        return 'sepia';\n    }\n\n    getDefaultParameters() {\n        return {\n            sepiaValue: 1\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let tmp = 0.299 * pixel.r + 0.587 * pixel.g + 0.114 * pixel.b;\n\n        pixel.r = tmp + 2 * parameters.sepiaValue;\n        pixel.g = tmp + parameters.sepiaValue;\n        pixel.b = tmp;\n\n        return pixel;\n    }\n}\n\nexport default GrayScaleEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Sepia.js","import BasePointEffect from '../BasePoint';\n\nclass ContrastEffect extends BasePointEffect {\n    static getName() {\n        return 'contrast';\n    }\n\n    getDefaultParameters() {\n        return {\n            contrast: 0.5\n        };\n    }\n\n    before(parameters) {\n        return {\n            factor: (259 * ((parameters.contrast * 255) + 255)) / (255 * (259 - (parameters.contrast * 255)))\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.r = this.data.factor * (pixel.r - 128) + 128;\n        pixel.g = this.data.factor * (pixel.g - 128) + 128;\n        pixel.b = this.data.factor * (pixel.b - 128) + 128;\n\n        return pixel;\n    }\n}\n\nexport default ContrastEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Contrast.js","import BasePointEffect from '../BasePoint';\n\nclass BrightnessEffect extends BasePointEffect {\n    static getName() {\n        return 'brightness';\n    }\n\n    getDefaultParameters() {\n        return {\n            brightness: 0.5\n        };\n    }\n\n    before(parameters) {\n        return {\n            brightness: 255 * parameters.brightness\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.r = pixel.r + this.data.brightness;\n        pixel.g = pixel.g + this.data.brightness;\n        pixel.b = pixel.b + this.data.brightness;\n\n        return pixel;\n    }\n}\n\nexport default BrightnessEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Brightness.js","import BasePointEffect from '../BasePoint';\n\nclass DiffusionEffect extends BasePointEffect {\n    static getName() {\n        return 'diffusion';\n    }\n\n    getDefaultParameters() {\n        return {\n            matrix: [0, 0, 0, 0, 0, 7, 3, 5, 1],\n            levels: 6,\n            colorDither: true,\n            granulate: true\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let i, sum = 0, map = [], div = [];\n\n        for (i = 0; i < parameters.matrix.length; i += 1) {\n            sum += parameters.matrix[i];\n        }\n\n        for (i = 0; i < parameters.levels; i += 1) {\n            map[i] = parseInt(255 * i / (parameters.levels - 1));\n        }\n\n        for (i = 0; i < 256; i += 1) {\n            div[i] = parseInt(parameters.levels * i / 256);\n        }\n\n        return {\n            sum: sum,\n            map: map,\n            div: div\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let red1 = pixel.r,\n            green1 = pixel.g,\n            blue1 = pixel.b,\n            red2, green2, blue2,\n            data = this.data,\n            tmpPixel,\n            tmpRed, tmpGreen, tmpBlue,\n            i, j,\n            iy, jx,\n            w,\n            grayScale;\n\n        if (!parameters.colorDither) {\n            grayScale = (red1 + green1 + blue1) / 3;\n            red1 = grayScale;\n            green1 = grayScale;\n            blue1 = grayScale;\n        }\n\n        red2 = data.map[data.div[red1]];\n        green2 = data.map[data.div[green1]];\n        blue2 = data.map[data.div[blue1]];\n\n        tmpRed = red1 - red2;\n        tmpGreen = green1 - green2;\n        tmpBlue = blue1 - blue2;\n\n        if (parameters.granulate) {\n            for (i = -1; i <= 1; i += 1) {\n                iy = i + y;\n                if (iy < 0 || iy >= height) {\n                    continue;\n                }\n                for (j = -1; j <= 1; j += 1) {\n                    jx = j + x;\n                    if (jx < 0 || jx >= width) {\n                        continue;\n                    }\n                    w = parameters.matrix[(i + 1) * 3 + j + 1];\n                    if (w !== 0) {\n                        tmpPixel = this.getPixel(jx, iy);\n                        tmpPixel.r += (tmpRed * w / data.sum);\n                        tmpPixel.g += (tmpGreen * w / data.sum);\n                        tmpPixel.b += (tmpBlue * w / data.sum);\n                        this.setPixel(jx, iy, tmpPixel);\n                    }\n                }\n            }\n        }\n\n        return {\n            r: red2,\n            g: green2,\n            b: blue2,\n            a: pixel.a\n        };\n    }\n}\n\nexport default DiffusionEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Diffusion.js","import BasePointEffect from '../BasePoint';\n\nclass DitherEffect extends BasePointEffect {\n    static getName() {\n        return 'dither';\n    }\n\n    getDefaultParameters() {\n        return {\n            matrices: {\n                ditherMagic4x4Matrix: [\n                    0, 14, 3, 13,\n                    11, 5, 8, 6,\n                    12, 2, 15, 1,\n                    7, 9, 4, 10\n                ],\n                ditherOrdered4x4Matrix: [\n                    0, 8, 2, 10,\n                    12, 4, 14, 6,\n                    3, 11, 1, 9,\n                    15, 7, 13, 5\n                ],\n                ditherLines4x4Matrix: [\n                    0, 1, 2, 3,\n                    4, 5, 6, 7,\n                    8, 9, 10, 11,\n                    12, 13, 14, 15\n                ],\n                dither90Halftone6x6Matrix: [\n                    29, 18, 12, 19, 30, 34,\n                    17, 7, 4, 8, 20, 28,\n                    11, 3, 0, 1, 9, 27,\n                    16, 6, 2, 5, 13, 26,\n                    25, 15, 10, 14, 21, 31,\n                    33, 25, 24, 23, 33, 36\n                ],\n                ditherOrdered6x6Matrix: [\n                    1, 59, 15, 55, 2, 56, 12, 52,\n                    33, 17, 47, 31, 34, 18, 44, 28,\n                    9, 49, 5, 63, 10, 50, 6, 60,\n                    41, 25, 37, 21, 42, 26, 38, 22,\n                    3, 57, 13, 53, 0, 58, 14, 54,\n                    35, 19, 45, 29, 32, 16, 46, 30,\n                    11, 51, 7, 61, 8, 48, 4, 62,\n                    43, 27, 39, 23, 40, 24, 36, 20\n                ],\n                ditherOrdered8x8Matrix: [\n                    1, 235, 59, 219, 15, 231, 55, 215, 2, 232, 56, 216, 12, 228, 52, 212,\n                    129, 65, 187, 123, 143, 79, 183, 119, 130, 66, 184, 120, 140, 76, 180, 116,\n                    33, 193, 17, 251, 47, 207, 31, 247, 34, 194, 18, 248, 44, 204, 28, 244,\n                    161, 97, 145, 81, 175, 111, 159, 95, 162, 98, 146, 82, 172, 108, 156, 92,\n                    9, 225, 49, 209, 5, 239, 63, 223, 10, 226, 50, 210, 6, 236, 60, 220,\n                    137, 73, 177, 113, 133, 69, 191, 127, 138, 74, 178, 114, 134, 70, 188, 124,\n                    41, 201, 25, 241, 37, 197, 21, 255, 42, 202, 26, 242, 38, 198, 22, 252,\n                    169, 105, 153, 89, 165, 101, 149, 85, 170, 106, 154, 90, 166, 102, 150, 86,\n                    3, 233, 57, 217, 13, 229, 53, 213, 0, 234, 58, 218, 14, 230, 54, 214,\n                    131, 67, 185, 121, 141, 77, 181, 117, 128, 64, 186, 122, 142, 78, 182, 118,\n                    35, 195, 19, 249, 45, 205, 29, 245, 32, 192, 16, 250, 46, 206, 30, 246,\n                    163, 99, 147, 83, 173, 109, 157, 93, 160, 96, 144, 80, 174, 110, 158, 94,\n                    11, 227, 51, 211, 7, 237, 61, 221, 8, 224, 48, 208, 4, 238, 62, 222,\n                    139, 75, 179, 115, 135, 71, 189, 125, 136, 72, 176, 112, 132, 68, 190, 126,\n                    43, 203, 27, 243, 39, 199, 23, 253, 40, 200, 24, 240, 36, 196, 20, 254,\n                    171, 107, 155, 91, 167, 103, 151, 87, 168, 104, 152, 88, 164, 100, 148, 84\n                ],\n                ditherCluster3Matrix: [\n                    9, 11, 10, 8, 6, 7,\n                    12, 17, 16, 5, 0, 1,\n                    13, 14, 15, 4, 3, 2,\n                    8, 6, 7, 9, 11, 10,\n                    5, 0, 1, 12, 17, 16,\n                    4, 3, 2, 13, 14, 15\n                ],\n                ditherCluster4Matrix: [\n                    18, 20, 19, 16, 13, 11, 12, 15,\n                    27, 28, 29, 22, 4, 3, 2, 9,\n                    26, 31, 30, 21, 5, 0, 1, 10,\n                    23, 25, 24, 17, 8, 6, 7, 14,\n                    13, 11, 12, 15, 18, 20, 19, 16,\n                    4, 3, 2, 9, 27, 28, 29, 22,\n                    5, 0, 1, 10, 26, 31, 30, 21,\n                    8, 6, 7, 14, 23, 25, 24, 17\n                ],\n                ditherCluster8Matrix: [\n                    64, 69, 77, 87, 86, 76, 68, 67, 63, 58, 50, 40, 41, 51, 59, 60,\n                    70, 94, 100, 109, 108, 99, 93, 75, 57, 33, 27, 18, 19, 28, 34, 52,\n                    78, 101, 114, 116, 115, 112, 98, 83, 49, 26, 13, 11, 12, 15, 29, 44,\n                    88, 110, 123, 124, 125, 118, 107, 85, 39, 17, 4, 3, 2, 9, 20, 42,\n                    89, 111, 122, 127, 126, 117, 106, 84, 38, 16, 5, 0, 1, 10, 21, 43,\n                    79, 102, 119, 121, 120, 113, 97, 82, 48, 25, 8, 6, 7, 14, 30, 45,\n                    71, 95, 103, 104, 105, 96, 92, 74, 56, 32, 24, 23, 22, 31, 35, 53,\n                    65, 72, 80, 90, 91, 81, 73, 66, 62, 55, 47, 37, 36, 46, 54, 61,\n                    63, 58, 50, 40, 41, 51, 59, 60, 64, 69, 77, 87, 86, 76, 68, 67,\n                    57, 33, 27, 18, 19, 28, 34, 52, 70, 94, 100, 109, 108, 99, 93, 75,\n                    49, 26, 13, 11, 12, 15, 29, 44, 78, 101, 114, 116, 115, 112, 98, 83,\n                    39, 17, 4, 3, 2, 9, 20, 42, 88, 110, 123, 124, 125, 118, 107, 85,\n                    38, 16, 5, 0, 1, 10, 21, 43, 89, 111, 122, 127, 126, 117, 106, 84,\n                    48, 25, 8, 6, 7, 14, 30, 45, 79, 102, 119, 121, 120, 113, 97, 82,\n                    56, 32, 24, 23, 22, 31, 35, 53, 71, 95, 103, 104, 105, 96, 92, 74,\n                    62, 55, 47, 37, 36, 46, 54, 61, 65, 72, 80, 90, 91, 81, 73, 66\n                ]\n            },\n            levels: 6,\n            matrix: \"ditherMagic4x4Matrix\",\n            colorDither: true\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let matrix = parameters.matrix,\n            rows, cols,\n            map = [], div = [], mod = [],\n            i;\n\n        if (typeof matrix === \"string\") {\n            matrix = parameters.matrices[matrix];\n        }\n\n        rows = Math.sqrt(matrix.length);\n        cols = Math.sqrt(matrix.length);\n\n        for (i = 0; i < parameters.levels; i += 1) {\n            map[i] = 255 * i / (parameters.levels - 1);\n        }\n\n        for (i = 0; i < 256; i += 1) {\n            div[i] = parseInt((parameters.levels - 1) * i / 256);\n            mod[i] = parseInt(i * (rows * cols + 1) / 256);\n        }\n\n        return {\n            matrix: matrix,\n            map: map,\n            div: div,\n            mod: mod,\n            cols: cols,\n            rows: rows\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let col = x % this.data.cols,\n            row = y % this.data.rows,\n            v = parameters.matrix[row * this.data.cols + col],\n            red = pixel.r, green = pixel.g, blue = pixel.b,\n            result = {a: pixel.a},\n            value;\n\n        if (parameters.colorDither) {\n            result.r = this.data.map[this.data.mod[red] > v ? this.data.div[red] + 1 : this.data.div[red]];\n            result.g = this.data.map[this.data.mod[green] > v ? this.data.div[green] + 1 : this.data.div[green]];\n            result.b = this.data.map[this.data.mod[blue] > v ? this.data.div[blue] + 1 : this.data.div[blue]];\n        }\n        else {\n            value = (red + green + blue) / 3;\n            result.r = result.g = result.b = this.data.map[this.data.mod[value] > v ? this.data.div[value] + 1 : this.data.div[value]];\n        }\n\n        return result;\n    }\n}\n\nexport default DitherEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Dither.js","import BasePointEffect from '../BasePoint';\n\nclass ExposureEffect extends BasePointEffect {\n    static getName() {\n        return 'exposure';\n    }\n\n    getDefaultParameters() {\n        return {\n            exposure: 1\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.r = (1 - Math.exp(-pixel.r / 255 * parameters.exposure)) * 255;\n        pixel.g = (1 - Math.exp(-pixel.g / 255 * parameters.exposure)) * 255;\n        pixel.b = (1 - Math.exp(-pixel.b / 255 * parameters.exposure)) * 255;\n\n        return pixel;\n    }\n}\n\nexport default ExposureEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Exposure.js","import BasePointEffect from '../BasePoint';\n\nclass GainEffect extends BasePointEffect {\n    static getName() {\n        return 'gain';\n    }\n\n    getDefaultParameters() {\n        return {\n            gain: 1,\n            bias: 1\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let red = (1 / parameters.gain - 2) * (1 - 2 * pixel.r / 255),\n            green = (1 / parameters.gain - 2) * (1 - 2 * pixel.g / 255),\n            blue = (1 / parameters.gain - 2) * (1 - 2 * pixel.b / 255);\n\n        if (pixel.r / 255 < 0.5) {\n            red = (pixel.r / 255) / red + 1;\n        }\n        else {\n            red = (red - (pixel.r / 255)) / (red - 1);\n        }\n\n        if (pixel.g / 255 < 0.5) {\n            green = (pixel.g / 255) / green + 1;\n        }\n        else {\n            green = (green - (pixel.g / 255)) / (green - 1);\n        }\n\n        if (pixel.b / 255 < 0.5) {\n            blue = (pixel.b / 255) / blue + 1;\n        }\n        else {\n            blue = (blue - (pixel.b / 255)) / (blue - 1);\n        }\n\n        red = red / ((1 / parameters.bias - 2) * (1 - red) + 1);\n        green = green / ((1 / parameters.bias - 2) * (1 - green) + 1);\n        blue = blue / ((1 / parameters.bias - 2) * (1 - blue) + 1);\n\n        pixel.r = red * 255;\n        pixel.g = green * 255;\n        pixel.b = blue * 255;\n\n        return pixel;\n    }\n}\n\nexport default GainEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Gain.js","import BasePointEffect from '../BasePoint';\n\nclass GammaEffect extends BasePointEffect {\n    static getName() {\n        return 'gamma';\n    }\n\n    getDefaultParameters() {\n        return {\n            gammaRed: 1,\n            gammaGreen: 1,\n            gammaBlue: 1\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let table = {\n            r: [],\n            g: [],\n            b: []\n        }, i;\n\n        for (i = 0; i < 256; i += 1) {\n            table.r[i] = parseInt(((255 * Math.pow(i / 255, 1 / parameters.gammaRed)) + 0.5));\n            table.g[i] = parseInt(((255 * Math.pow(i / 255, 1 / parameters.gammaGreen)) + 0.5));\n            table.b[i] = parseInt(((255 * Math.pow(i / 255, 1 / parameters.gammaBlue)) + 0.5));\n        }\n\n        return {\n            table: table\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        return {\n            r: this.data.table.r[pixel.r],\n            g: this.data.table.g[pixel.g],\n            b: this.data.table.b[pixel.b],\n            a: pixel.a\n        };\n    }\n}\n\nexport default GammaEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Gamma.js","import BasePointEffect from '../BasePoint';\nimport {\n    RGBtoHSB,\n    HSBtoRGB\n} from '../../../helpers/color';\n\nclass HSBAdjustEffect extends BasePointEffect {\n    static getName() {\n        return 'hsb-adjust';\n    }\n\n    getDefaultParameters() {\n        return {\n            h: 1,\n            s: 1,\n            b: 1\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let hsb = RGBtoHSB(pixel.r, pixel.g, pixel.b);\n\n        hsb.h += parameters.h;\n        while (hsb.h < 0) {\n            hsb.h += Math.PI * 2;\n        }\n\n        hsb.s += parameters.s;\n        hsb.s = Math.max(Math.min(hsb.s, 1), 0);\n\n        hsb.b += parameters.b;\n        hsb.b = Math.max(Math.min(hsb.b, 1), 0);\n\n        let result = HSBtoRGB(hsb.h, hsb.s, hsb.b);\n        pixel.r = result.r;\n        pixel.g = result.g;\n        pixel.b = result.b;\n\n        return pixel;\n    }\n}\n\nexport default HSBAdjustEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/HSBAdjust.js","/**\n * RGB to HSB color convert.\n * @param r\n * @param g\n * @param b\n * @returns {{h: number, s: number, b: number}}\n */\nexport function RGBtoHSB(r, g, b) {\n    var hue, saturation, brightness,\n        cmax = Math.max(r, g, b),\n        cmin = Math.min(r, g, b);\n\n    brightness = cmax / 255;\n    if (cmax !== 0) {\n        saturation = (cmax - cmin) / cmax;\n    }\n    else {\n        saturation = 0;\n    }\n\n    if (saturation === 0) {\n        hue = 0;\n    }\n    else {\n        var redc = (cmax - r) / (cmax - cmin),\n            greenc = (cmax - g) / (cmax - cmin),\n            bluec = (cmax - b) / (cmax - cmin);\n\n        if (r === cmax) {\n            hue = bluec - greenc;\n        }\n        else {\n            if (g === cmax) {\n                hue = 2 + redc - bluec;\n            }\n            else {\n                hue = 4 + greenc - redc;\n            }\n        }\n\n        hue /= 6;\n        if (hue < 0) {\n            hue += 1;\n        }\n    }\n\n    return {\n        h: hue,\n        s: saturation,\n        b: brightness\n    };\n}\n/**\n * HSB to RGB color convert.\n * @param hue\n * @param saturation\n * @param brightness\n * @returns {{r: Number, g: Number, b: Number}}\n */\nexport function HSBtoRGB(hue, saturation, brightness) {\n    var red, green, blue;\n    if (saturation === 0) {\n        red = brightness * 255 + 0.5;\n        green = brightness * 255 + 0.5;\n        blue = brightness * 255 + 0.5;\n    }\n    else {\n        var h = (hue - Math.floor(hue)) * 6,\n            f = h - Math.floor(h),\n            p = brightness * (1 - saturation),\n            q = brightness * (1 - saturation * f),\n            t = brightness * (1 - (saturation * (1 - f)));\n\n        switch (parseInt(h)) {\n            case 0:\n                red = (brightness * 255 + 0.5);\n                green = (t * 255 + 0.5);\n                blue = (p * 255 + 0.5);\n                break;\n\n            case 1:\n                red = (q * 255 + 0.5);\n                green = (brightness * 255 + 0.5);\n                blue = (p * 255 + 0.5);\n                break;\n\n            case 2:\n                red = (p * 255 + 0.5);\n                green = (brightness * 255 + 0.5);\n                blue = (t * 255 + 0.5);\n                break;\n\n            case 3:\n                red = (p * 255 + 0.5);\n                green = (q * 255 + 0.5);\n                blue = (brightness * 255 + 0.5);\n                break;\n\n            case 4:\n                red = (t * 255 + 0.5);\n                green = (p * 255 + 0.5);\n                blue = (brightness * 255 + 0.5);\n                break;\n\n            case 5:\n                red = (brightness * 255 + 0.5);\n                green = (p * 255 + 0.5);\n                blue = (q * 255 + 0.5);\n                break;\n\n            default:\n                red = 0;\n                green = 0;\n                blue = 0;\n                break;\n        }\n    }\n    return {\n        r: parseInt(red),\n        g: parseInt(green),\n        b: parseInt(blue)\n    };\n}\n\nexport function mixColors(t, rgb1, rgb2) {\n    return {\n        r: rgb1.r + t * (rgb2.r - rgb1.r),\n        g: rgb1.g + t * (rgb2.g - rgb1.g),\n        b: rgb1.b + t * (rgb2.b - rgb1.b),\n        a: rgb1.a + t * (rgb2.a - rgb1.a)\n    }\n}\n\nexport function hexToRGB(hex) {\n    hex = parseInt(hex.replace(\"#\", \"\"), 16);\n    var r = hex >> 16;\n    var g = hex >> 8 & 0xFF;\n    var b = hex & 0xFF;\n    return {\n        r: r,\n        g: g,\n        b: b\n    };\n}\n\nexport function RGBtoHex(pixel) {\n    var bin = pixel.r << 16 | pixel.g << 8 | pixel.b;\n    return (function (h) {\n        return new Array(7 - h.length).join(\"0\") + h\n    })(bin.toString(16).toUpperCase())\n}\n\nexport function RGBtoXYZ(r, g, b) {\n    var var_R = ( r / 255 );\n    var var_G = ( g / 255 );\n    var var_B = ( b / 255 );\n\n    if (var_R > 0.04045) {\n        var_R = Math.pow(( var_R + 0.055 ) / 1.055, 2.4);\n    }\n    else {\n        var_R = var_R / 12.92;\n    }\n\n    if (var_G > 0.04045) {\n        var_G = Math.pow(( var_G + 0.055 ) / 1.055, 2.4);\n    }\n    else {\n        var_G = var_G / 12.92;\n    }\n\n    if (var_B > 0.04045) {\n        var_B = Math.pow(( var_B + 0.055 ) / 1.055, 2.4);\n    }\n    else {\n        var_B = var_B / 12.92;\n    }\n\n    var_R = var_R * 100;\n    var_G = var_G * 100;\n    var_B = var_B * 100;\n\n    return {\n        x: var_R * 0.4124 + var_G * 0.3576 + var_B * 0.1805,\n        y: var_R * 0.2126 + var_G * 0.7152 + var_B * 0.0722,\n        z: var_R * 0.0193 + var_G * 0.1192 + var_B * 0.9505\n    };\n}\n\nexport function RGBtoCIELab(r, g, b) {\n    var xyz = RGBtoXYZ(r, g, b);\n\n    var var_X = xyz.x / 95.047; // ref\n    var var_Y = xyz.y / 100; // ref\n    var var_Z = xyz.z / 108.883; // ref\n\n    if (var_X > 0.008856) {\n        var_X = Math.pow(var_X, ( 1 / 3 ));\n    }\n    else {\n        var_X = ( 7.787 * var_X ) + ( 16 / 116 );\n    }\n\n    if (var_Y > 0.008856) {\n        var_Y = Math.pow(var_Y, ( 1 / 3 ));\n    }\n    else {\n        var_Y = ( 7.787 * var_Y ) + ( 16 / 116 );\n    }\n\n    if (var_Z > 0.008856) {\n        var_Z = Math.pow(var_Z, ( 1 / 3 ));\n    }\n    else {\n        var_Z = ( 7.787 * var_Z ) + ( 16 / 116 );\n    }\n\n    return {\n        l: ( 116 * var_Y ) - 16,\n        a: 500 * ( var_X - var_Y ),\n        b: 200 * ( var_Y - var_Z )\n    };\n}\n\nexport function CIELabToXYZ(l, a, b) {\n    var var_Y = ( l + 16 ) / 116;\n    var var_X = a / 500 + var_Y;\n    var var_Z = var_Y - b / 200;\n\n    if (Math.pow(var_Y, 3) > 0.008856) {\n        var_Y = Math.pow(var_Y, 3);\n    }\n    else {\n        var_Y = ( var_Y - 16 / 116 ) / 7.787;\n    }\n\n    if (Math.pow(var_X, 3) > 0.008856) {\n        var_X = Math.pow(var_X, 3);\n    }\n    else {\n        var_X = ( var_X - 16 / 116 ) / 7.787;\n    }\n\n    if (Math.pow(var_Z, 3) > 0.008856) {\n        var_Z = Math.pow(var_Z, 3);\n    }\n    else {\n        var_Z = ( var_Z - 16 / 116 ) / 7.787;\n    }\n\n    return {\n        x: 95.047 * var_X, // ref\n        y: 100 * var_Y, // ref\n        z: 108.883 * var_Z // ref\n    };\n}\n\nexport function CIELabToRGB(l, a, b) {\n    var xyz = CIELabToXYZ(l, a, b);\n\n    var var_X = xyz.x / 100;\n    var var_Y = xyz.y / 100;\n    var var_Z = xyz.z / 100;\n\n    var var_R = var_X * 3.2406 + var_Y * -1.5372 + var_Z * -0.4986;\n    var var_G = var_X * -0.9689 + var_Y * 1.8758 + var_Z * 0.0415;\n    var var_B = var_X * 0.0557 + var_Y * -0.2040 + var_Z * 1.0570;\n\n    if (var_R > 0.0031308) {\n        var_R = 1.055 * ( Math.pow(var_R, ( 1 / 2.4 )) ) - 0.055;\n    }\n    else {\n        var_R = 12.92 * var_R;\n    }\n\n    if (var_G > 0.0031308) {\n        var_G = 1.055 * ( Math.pow(var_G, ( 1 / 2.4 )) ) - 0.055;\n    }\n    else {\n        var_G = 12.92 * var_G;\n    }\n\n    if (var_B > 0.0031308) {\n        var_B = 1.055 * ( Math.pow(var_B, ( 1 / 2.4 )) ) - 0.055;\n    }\n    else {\n        var_B = 12.92 * var_B;\n    }\n\n    return {\n        r: var_R * 255,\n        g: var_G * 255,\n        b: var_B * 255\n    };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/color.js","import BasePointEffect from '../BasePoint';\n\nclass InvertAlphaEffect extends BasePointEffect {\n    static getName() {\n        return 'invert-alpha';\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.a = 255 - pixel.a;\n        return pixel;\n    }\n}\n\nexport default InvertAlphaEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/InvertAlpha.js","import BasePointEffect from '../BasePoint';\n\nclass InvertEffect extends BasePointEffect {\n    static getName() {\n        return 'invert';\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.r = 255 - pixel.r;\n        pixel.g = 255 - pixel.g;\n        pixel.b = 255 - pixel.b;\n        return pixel;\n    }\n}\n\nexport default InvertEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Invert.js","import BasePointEffect from '../BasePoint';\n\nclass LevelsEffect extends BasePointEffect {\n    static getName() {\n        return 'levels';\n    }\n\n    getDefaultParameters() {\n        return {\n            low: 0,\n            high: 1,\n            lowOutput: 0,\n            highOutput: 1\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let Histogram = function (imageData, width, height, offset, stride) {\n            let i, j, index,\n                x, y,\n                histogram = new Array(3),\n                minValue = new Array(4),\n                maxValue = new Array(4),\n                minFrequency = new Array(3),\n                maxFrequency = new Array(3),\n                mean = new Array(3),\n                numSamples = width * height,\n                isGray = true,\n                RED = 0,\n                GREEN = 1,\n                BLUE = 2,\n                GRAY = 3;\n\n            for (i = 0; i < histogram.length; i += 1) {\n                histogram[i] = new Array(256);\n                for (j = 0; j < 256; j += 1) {\n                    histogram[i][j] = 0;\n                }\n            }\n\n            for (y = 0; y < height; y += 1) {\n                for (x = 0; x < width; x += 1) {\n                    index = y * width * 4 + x * 4;\n                    histogram[RED][imageData.data[index]]++;\n                    histogram[GREEN][imageData.data[index + 1]]++;\n                    histogram[BLUE][imageData.data[index + 2]]++;\n                }\n            }\n\n            for (i = 0; i < 256; i += 1) {\n                if (histogram[RED][i] !== histogram[GREEN][i] || histogram[GREEN][i] !== histogram[BLUE][i]) {\n                    isGray = false;\n                    break;\n                }\n            }\n\n            for (i = 0; i < 3; i += 1) {\n                for (j = 0; j < 256; j += 1) {\n                    if (histogram[i][j] > 0) {\n                        minValue[i] = j;\n                        break;\n                    }\n                }\n                for (j = 255; j >= 0; j -= 1) {\n                    if (histogram[i][j] > 0) {\n                        maxValue[i] = j;\n                        break;\n                    }\n                }\n                minFrequency[i] = Infinity;\n                maxFrequency[i] = 0;\n                for (j = 0; j < 256; j += 1) {\n                    minFrequency[i] = Math.min(minFrequency[i], histogram[i][j]);\n                    maxFrequency[i] = Math.max(maxFrequency[i], histogram[i][j]);\n                    mean[i] += j * histogram[i][j];\n                }\n                mean[i] /= numSamples;\n                minValue[GRAY] = Math.min(minValue[RED], minValue[GREEN], minValue[BLUE]);\n                maxValue[GRAY] = Math.max(maxValue[RED], maxValue[GREEN], maxValue[BLUE]);\n            }\n\n            this.getNumSamples = function () {\n                return numSamples;\n            };\n\n            this.isGray = function () {\n                return isGray;\n            };\n\n            this.getFrequency = function (channel, value) {\n                if (!value) {\n                    if (numSamples > 0 && isGray && value >= 0 && value <= 255) {\n                        return histogram[0][value];\n                    }\n                    return -1;\n                }\n                if (numSamples < 1 || channel < 0 || channel > 2 || value < 0 || value > 255) {\n                    return -1;\n                }\n                return histogram[channel][value];\n            };\n\n            this.getMinFrequency = function (channel) {\n                if (!channel) {\n                    if (numSamples > 0 && isGray) {\n                        return minFrequency[0];\n                    }\n                    return -1;\n                }\n                if (numSamples < 1 || channel < 0 || channel > 2) {\n                    return -1;\n                }\n                return minFrequency[channel];\n            };\n\n            this.getMaxFrequency = function (channel) {\n                if (!channel) {\n                    if (numSamples > 0 && isGray) {\n                        return maxFrequency[0];\n                    }\n                    return -1;\n                }\n                if (numSamples < 1 || channel < 0 || channel > 2) {\n                    return -1;\n                }\n                return maxFrequency[channel];\n            };\n\n            this.getMinValue = function (channel) {\n                if (!channel) {\n                    if (numSamples > 0 && isGray) {\n                        return minValue[0];\n                    }\n                    return -1;\n                }\n                return minValue[channel];\n            };\n\n            this.getMaxValue = function (channel) {\n                if (!channel) {\n                    if (numSamples > 0 && isGray) {\n                        return maxValue[0];\n                    }\n                    return -1;\n                }\n                return maxValue[channel];\n            };\n\n            this.getMeanValue = function (channel) {\n                if (!channel) {\n                    if (numSamples > 0 && isGray) {\n                        return mean[0];\n                    }\n                    return -1;\n                }\n                return mean[channel];\n            }\n        };\n\n        let histogram = new Histogram(imageData, width, height, 0, width),\n            lut = new Array(3),\n            low = parameters.low * 255,\n            high = parameters.high * 255,\n            i, j;\n\n        for (i = 0; i < lut.length; i += 1) {\n            lut[i] = new Array(256);\n        }\n        if (low === high) {\n            high++;\n        }\n\n        for (i = 0; i < 3; i += 1) {\n            for (j = 0; j < 256; j += 1) {\n                lut[i][j] = (255 * (parameters.lowOutput + (parameters.highOutput - parameters.lowOutput) * (j - low) / (high - low)))\n            }\n        }\n\n        return {\n            lut: lut\n        }\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        return {\n            r: this.data.lut[0][pixel.r],\n            g: this.data.lut[1][pixel.g],\n            b: this.data.lut[2][pixel.b],\n            a: pixel.a\n        };\n    }\n}\n\nexport default LevelsEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Levels.js","import BasePointEffect from '../BasePoint';\n\nclass RescaleEffect extends BasePointEffect {\n    static getName() {\n        return 'rescale';\n    }\n\n    getDefaultParameters() {\n        return {\n            scale: 1\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.r = parameters.scale * pixel.r;\n        pixel.g = parameters.scale * pixel.g;\n        pixel.b = parameters.scale * pixel.b;\n\n        return pixel;\n    }\n}\n\nexport default RescaleEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Rescale.js","import BasePointEffect from '../BasePoint';\n\nclass SolarizeEffect extends BasePointEffect {\n    static getName() {\n        return 'solarize';\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        var red = pixel.r / 255 > 0.5 ? 2 * ((pixel.r / 255) - 0.5) : 2 * (0.5 - (pixel.r / 255)),\n            green = pixel.g / 255 > 0.5 ? 2 * ((pixel.g / 255) - 0.5) : 2 * (0.5 - (pixel.g / 255)),\n            blue = pixel.b / 255 > 0.5 ? 2 * ((pixel.b / 255) - 0.5) : 2 * (0.5 - (pixel.b / 255));\n\n        return {\n            r: red * 255,\n            g: green * 255,\n            b: blue * 255,\n            a: pixel.a\n        }\n    }\n}\n\nexport default SolarizeEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Solarize.js","import BasePointEffect from '../BasePoint';\n\nclass ThresholdEffect extends BasePointEffect {\n    static getName() {\n        return 'threshold';\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        var grayscale = (pixel.r + pixel.g + pixel.b) / 3;\n\n        if (grayscale >= 127) {\n            return {\n                r: 255,\n                g: 255,\n                b: 255,\n                a: pixel.a\n            };\n        }\n\n        return {\n            r: 0,\n            g: 0,\n            b: 0,\n            a: pixel.a\n        };\n    }\n}\n\nexport default ThresholdEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Threshold.js","import BasePointEffect from '../BasePoint';\nimport {mixColors} from '../../../helpers/color';\n\nclass TritoneEffect extends BasePointEffect {\n    static getName() {\n        return 'tritone';\n    }\n\n    getDefaultParameters() {\n        return {\n            shadowColor: {\n                r: 0,\n                g: 0,\n                b: 0,\n                a: 255\n            },\n            midColor: {\n                r: 136,\n                g: 136,\n                b: 136,\n                a: 255\n            },\n            highColor: {\n                r: 255,\n                g: 255,\n                b: 255,\n                a: 255\n            }\n        };\n    }\n\n    before(parameters) {\n        let lut = [],\n            i, t;\n\n        for (i = 0; i < 128; i += 1) {\n            t = i / 127;\n            lut[i] = mixColors(t, parameters.shadowColor, parameters.midColor);\n        }\n        for (i = 128; i < 256; i += 1) {\n            t = (i - 127) / 128;\n            lut[i] = mixColors(t, parameters.midColor, parameters.highColor);\n        }\n        return {\n            lut: lut\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let brightness = Math.floor((pixel.r + pixel.g + pixel.b) / 3);\n        return this.data.lut[brightness];\n    }\n}\n\nexport default TritoneEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Tritone.js","import BasePointEffect from '../BasePoint';\nimport {smoothStep} from '../../../helpers/common';\n\nclass DissolveEffect extends BasePointEffect {\n    static getName() {\n        return 'dissolve';\n    }\n\n    getDefaultParameters() {\n        return {\n            density: 1,\n            softness: 0\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let d = (1 - parameters.density) * (1 + parameters.softness);\n        return {\n            minDensity: d - parameters.softness,\n            maxDensity: d\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        let v = Math.random(),\n            f = smoothStep(this.data.minDensity, this.data.maxDensity, v);\n        pixel.a = pixel.a * f;\n        return pixel;\n    }\n}\n\nexport default DissolveEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Dissolve.js","import BasePointEffect from '../BasePoint';\n\nclass EdgeEffect extends BasePointEffect {\n    static getName() {\n        return 'edge';\n    }\n\n    getDefaultParameters() {\n        return {\n            matrixes: {\n                robertsV: [\n                    0, 0, -1,\n                    0, 1, 0,\n                    0, 0, 0\n                ],\n                robertsH: [\n                    -1, 0, 0,\n                    0, 1, 0,\n                    0, 0, 0\n                ],\n                prewittV: [\n                    -1, 0, 1,\n                    -1, 0, 1,\n                    -1, 0, 1\n                ],\n                prewittH: [\n                    -1, -1, -1,\n                    0, 0, 0,\n                    1, 1, 1\n                ],\n                sobelV: [\n                    -1, 0, 1,\n                    -2, 0, 2,\n                    -1, 0, 1\n                ],\n                sobelH: [\n                    -1, -2, -1,\n                    0, 0, 0,\n                    1, 2, 1\n                ],\n                freiChenV: [\n                    -1, 0, 1,\n                    -Math.sqrt(2), 0, Math.sqrt(2),\n                    -1, 0, 1\n                ],\n                freiChenH: [\n                    -1, -Math.sqrt(2), -1,\n                    0, 0, 0,\n                    1, Math.sqrt(2), 1\n                ]\n            },\n            hEdgeMatrix: \"sobelV\",\n            vEdgeMatrix: \"sobelH\"\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        var hEdgeMatrix = parameters.hEdgeMatrix,\n            vEdgeMatrix = parameters.vEdgeMatrix;\n\n        if (typeof hEdgeMatrix === \"string\") {\n            hEdgeMatrix = parameters.matrixes[parameters.hEdgeMatrix];\n        }\n        if (typeof vEdgeMatrix === \"string\") {\n            vEdgeMatrix = parameters.matrixes[parameters.vEdgeMatrix];\n        }\n        return {\n            hEdgeMatrix: hEdgeMatrix,\n            vEdgeMatrix: vEdgeMatrix\n        }\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        var r = 0, g = 0, b = 0,\n            rh = 0, gh = 0, bh = 0,\n            rv = 0, gv = 0, bv = 0,\n            row, iy, col, ix, mOffset,\n            pixel2, h, v;\n\n        for (row = -1; row <= 1; row += 1) {\n            iy = y + row;\n            if (!(0 <= iy && iy < height)) {\n                iy = y;\n            }\n            mOffset = 3 * (row + 1) + 1;\n            for (col = -1; col <= 1; col += 1) {\n                ix = x + col;\n                if (!(0 <= ix && ix < width)) {\n                    ix = x;\n                }\n                pixel2 = this.getOriginalPixel(ix, iy);\n                h = this.data.hEdgeMatrix[mOffset + col];\n                v = this.data.vEdgeMatrix[mOffset + col];\n\n                r = pixel2.r;\n                g = pixel2.g;\n                b = pixel2.b;\n\n                rh += Math.floor(h * r);\n                gh += Math.floor(h * g);\n                bh += Math.floor(h * b);\n\n                rv += Math.floor(v * r);\n                gv += Math.floor(v * g);\n                bv += Math.floor(v + b);\n            }\n        }\n        r = Math.floor(Math.sqrt(rh * rh + rv * rv) / 1.8);\n        g = Math.floor(Math.sqrt(gh * gh + gv * gv) / 1.8);\n        b = Math.floor(Math.sqrt(bh * bh + bv * bv) / 1.8);\n        return {\n            r: r,\n            g: g,\n            b: b,\n            a: pixel.a\n        };\n    }\n}\n\nexport default EdgeEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/Edge.js","import BasePointEffect from '../BasePoint';\n\nclass ChannelMixEffect extends BasePointEffect {\n    static getName() {\n        return 'channel-mix';\n    }\n\n    getDefaultParameters() {\n        return {\n            blueGreen: 1,\n            redBlue: 1,\n            greenRed: 1,\n            intoR: 1,\n            intoG: 1,\n            intoB: 1\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        var r = pixel.r,\n            g = pixel.g,\n            b = pixel.b;\n\n        return {\n            r: ((parameters.intoR * (parameters.blueGreen * g + (255 - parameters.blueGreen) * b) / 255 + (255 - parameters.intoR) * r) / 255),\n            g: ((parameters.intoG * (parameters.redBlue * g + (255 - parameters.redBlue) * r) / 255 + (255 - parameters.intoG) * g) / 255),\n            b: ((parameters.intoB * (parameters.greenRed * g + (255 - parameters.greenRed) * g) / 255 + (255 - parameters.intoB) * b) / 255),\n            a: pixel.a\n        };\n    }\n}\n\nexport default ChannelMixEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/ChannelMix.js","import BasePointEffect from '../BasePoint';\n\nclass AutoContrastEffect extends BasePointEffect {\n    static getName() {\n        return 'auto-contrast';\n    }\n\n    before(parameters, width, height) {\n        var x, y,\n            pixel,\n            min = Infinity, max = -1;\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                pixel = this.getPixel(x, y);\n\n                min = Math.min((pixel.r + pixel.g + pixel.b) / 3, min);\n                max = Math.max((pixel.r + pixel.g + pixel.b) / 3, max);\n            }\n        }\n\n        return {\n            min: min,\n            max: max,\n            remap: function (value) {\n                return ((value) - min) * 255 / (max - min);\n            }\n        };\n    }\n\n    callback(pixel, x, y, parameters, width, height) {\n        pixel.r = this.data.remap(pixel.r, this.data.min, this.data.max);\n        pixel.g = this.data.remap(pixel.g, this.data.min, this.data.max);\n        pixel.b = this.data.remap(pixel.b, this.data.min, this.data.max);\n\n        return pixel;\n    }\n}\n\nexport default AutoContrastEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/point/AutoContrast.js","import BaseTransformEffect from '../BaseTransform';\n\nclass DiffuseEffect extends BaseTransformEffect {\n    static getName() {\n        return 'diffuse';\n    }\n\n    getDefaultParameters() {\n        return {\n            scale: 4\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let sinTable = new Array(256),\n            cosTable = new Array(256),\n            i,\n            angle;\n        for (i = 0; i < 256; i += 1) {\n            angle = Math.PI * 2 * i / 256;\n            sinTable[i] = parameters.scale * Math.sin(angle);\n            cosTable[i] = parameters.scale * Math.cos(angle);\n        }\n        return {\n            sinTable: sinTable,\n            cosTable: cosTable\n        };\n    }\n\n    callback(x, y, parameters) {\n        let angle = parseInt(Math.random() * 255),\n            distance = Math.random();\n\n        return [\n            x + distance * this.data.sinTable[angle],\n            y + distance * this.data.cosTable[angle]\n        ];\n    }\n}\n\nexport default DiffuseEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Diffuse.js","import BaseEffect from './Base';\nimport extend from 'extend';\n\nclass BaseTransformEffect extends BaseEffect {\n    callback(pixel, x, y, parameters, width, height) {\n        throw \"Extend it.\"\n    }\n\n    run(imageData, parameters) {\n\n        parameters = extend(true, {}, this.getDefaultParameters(), parameters);\n\n        let x, y,\n            normalizePixelValue = function (value) {\n                return Math.min(Math.max(value, 0), 255) | 0;\n            },\n            sandbox = {\n                data: null\n            },\n            imageDataCopy = new Uint8ClampedArray(imageData.data);\n\n        sandbox.data = this.before.call(sandbox, parameters, imageData.width, imageData.height, imageData);\n\n        for (y = 0; y < imageData.height; y += 1) {\n            for (x = 0; x < imageData.width; x += 1) {\n                var newXY = this.callback.call(sandbox, x, y, parameters, imageData.width, imageData.height),\n                    newX = normalizePixelValue(newXY[0]),\n                    newY = normalizePixelValue(newXY[1]),\n                    oldPixelIndex = y * imageData.width * 4 + x * 4,\n                    newPixelIndex = newY * imageData.width * 4 + newX * 4;\n\n                imageDataCopy[oldPixelIndex + 0] = imageData.data[newPixelIndex + 0];\n                imageDataCopy[oldPixelIndex + 1] = imageData.data[newPixelIndex + 1];\n                imageDataCopy[oldPixelIndex + 2] = imageData.data[newPixelIndex + 2];\n                imageDataCopy[oldPixelIndex + 3] = imageData.data[newPixelIndex + 3];\n            }\n        }\n\n        imageData.data.set(imageDataCopy);\n        return imageData;\n    }\n}\n\nexport default BaseTransformEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/BaseTransform.js","import BaseTransformEffect from '../BaseTransform';\nimport {triangle} from '../../../helpers/common';\n\nclass KaleidoscopeEffect extends BaseTransformEffect {\n    static getName() {\n        return 'kaleidoscope';\n    }\n\n    getDefaultParameters() {\n        return {\n            centreX: 0.5,\n            centreY: 0.5,\n            angle: 0,\n            angle2: 0,\n            sides: 3,\n            radius: 0\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        return {\n            icentreX: width * parameters.centreX,\n            icentreY: height * parameters.centreY\n        };\n    }\n\n    callback(x, y, parameters) {\n        var dx = x - this.data.icentreX,\n            dy = y - this.data.icentreY,\n            r = Math.sqrt(dx * dx + dy * dy),\n            theta = Math.atan2(dy, dx) - parameters.angle - parameters.angle2;\n\n        theta = triangle(theta / Math.PI * parameters.sides * 0.5);\n\n        if (parameters.radius !== 0) {\n            var c = Math.cos(theta),\n                radiusC = parameters.radius / c;\n            r = radiusC * triangle(r / radiusC);\n        }\n\n        theta += parameters.angle;\n\n        return [\n            this.data.icentreX + r * Math.cos(theta),\n            this.data.icentreY + r * Math.sin(theta)\n        ];\n    }\n}\n\nexport default KaleidoscopeEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Kaleidoscope.js","import BaseTransformEffect from '../BaseTransform';\nimport noiseHelper from '../../../helpers/noise';\n\nclass MarbleEffect extends BaseTransformEffect {\n    static getName() {\n        return 'marble';\n    }\n\n    getDefaultParameters() {\n        return {\n            xScale: 4,\n            yScale: 4,\n            amount: 1,\n            turbulence: 1\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        let sinTable = new Array(256),\n            cosTable = new Array(256),\n            i = 0,\n            angle;\n\n        for (i = 0; i < 256; i += 1) {\n            angle = Math.PI * 2 * i / 256 * parameters.turbulence;\n            sinTable[i] = -parameters.yScale * Math.sin(angle);\n            cosTable[i] = parameters.yScale * Math.cos(angle);\n        }\n        return {\n            sinTable: sinTable,\n            cosTable: cosTable,\n            displacementMap: function (x, y) {\n                let result = 127 * (1 + noiseHelper.noise2(x / parameters.xScale, y / parameters.yScale));\n                return Math.min(255, Math.max(0, result));\n            }\n        };\n    }\n\n    callback(x, y, parameters) {\n        let displacement = Math.floor(this.data.displacementMap(x, y));\n        return [\n            x + this.data.sinTable[displacement],\n            y + this.data.cosTable[displacement]\n        ];\n    }\n}\n\nexport default MarbleEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Marble.js","let parameters = {},\n    isInit = false;\n\nlet noise = {\n    init: function () {\n        if (isInit) {\n            return false;\n        }\n        isInit = true;\n\n        parameters.B = 0x100;\n        parameters.BM = 0xff;\n        parameters.N = 0x1000;\n\n        parameters.P = new Array(parameters.B + parameters.B + 2);\n        parameters.G1 = new Array(parameters.B + parameters.B + 2);\n        parameters.G2 = new Array(parameters.B + parameters.B + 2);\n        for (i = 0; i < parameters.G2.length; i += 1) {\n            parameters.G2[i] = new Array(2);\n        }\n        parameters.G3 = new Array(parameters.B + parameters.B + 2);\n        for (i = 0; i < parameters.G3.length; i += 1) {\n            parameters.G3[i] = new Array(3);\n        }\n        var i, j, k;\n\n        for (i = 0; i < parameters.B; i += 1) {\n            parameters.P[i] = i;\n            parameters.G1[i] = ((this.random() % (parameters.B + parameters.B)) - parameters.B) / parameters.B;\n            parameters.G2[i] = [];\n            for (j = 0; j < 2; j += 1) {\n                parameters.G2[i][j] = ((this.random() % (parameters.B + parameters.B)) - parameters.B) / parameters.B;\n            }\n            parameters.G2[i] = this.normalize2(parameters.G2[i]);\n\n            parameters.G3[i] = [];\n            for (j = 0; j < 3; j += 1) {\n                parameters.G3[i][j] = ((this.random() % (parameters.B + parameters.B)) - parameters.B) / parameters.B;\n            }\n            parameters.G3[i] = this.normalize3(parameters.G3[i]);\n        }\n\n        for (i = parameters.B - 1; i >= 0; i -= 1) {\n            k = parameters.P[i];\n            parameters.P[i] = parameters.P[j = this.random() % parameters.B];\n            parameters.P[j] = k;\n        }\n\n        for (i = 0; i < parameters.B + 2; i += 1) {\n            parameters.P[parameters.B + i] = parameters.P[i];\n            parameters.G1[parameters.B + i] = parameters.G1[i];\n            for (j = 0; j < 2; j += 1) {\n                parameters.G2[parameters.B + i][j] = parameters.G2[i][j];\n            }\n            for (j = 0; j < 3; j++) {\n                parameters.G3[parameters.B + i][j] = parameters.G3[i][j];\n            }\n        }\n    },\n    random: function () {\n        return parseInt(Math.random() * 256 * 256) & 0x7fffffff;\n    },\n    normalize2: function (arr) {\n        var s = Math.sqrt(arr[0] * arr[0] + arr[1] * arr[1] + arr[2] * arr[2]);\n        arr[0] = arr[0] / s;\n        arr[1] = arr[1] / s;\n        arr[2] = arr[2] / s;\n        return arr;\n    },\n    normalize3: function (arr) {\n        var s = Math.sqrt(arr[0] * arr[0] + arr[1] * arr[1]);\n        arr[0] = arr[0] / s;\n        arr[1] = arr[1] / s;\n        return arr;\n    },\n    sCurve: function (t) {\n        return t * t * (3.0 - 2.0 * t);\n    },\n    lerp: function (t, a, b) {\n        return a + t * (b - a);\n    },\n    /**\n     * Compute 1-dimensional Perlin noise.\n     * @param x\n     */\n    noise1: function (x) {\n        var bx0, bx1,\n            rx0, rx1, sx, t, u, v;\n\n        this.init();\n\n        t = x + parameters.N;\n        bx0 = parseInt(t) & parameters.BM;\n        bx1 = (bx0 + 1) & parameters.BM;\n        rx0 = t - parseInt(t);\n        rx1 = rx0 - 1;\n\n        sx = this.sCurve(rx0);\n\n        u = rx0 * parameters.G1[parameters.P[bx0]];\n        v = rx1 * parameters.G1[parameters.P[bx1]];\n\n        return 2.3 * this.lerp(sx, u, v);\n    },\n    /**\n     * Compute 2-dimensional Perlin noise\n     * @param x\n     * @param y\n     * @returns {number}\n     */\n    noise2: function (x, y) {\n        var bx0, bx1, by0, by1, b00, b10, b01, b11,\n            rx0, rx1, ry0, ry1, q = [], sx, sy, a, b, t, u, v,\n            i, j;\n\n        this.init();\n\n        t = x + parameters.N;\n        bx0 = parseInt(t) & parameters.BM;\n        bx1 = (bx0 + 1) & parameters.BM;\n        rx0 = t - parseInt(t);\n        rx1 = rx0 - 1;\n\n        t = y + parameters.N;\n        by0 = parseInt(t) & parameters.BM;\n        by1 = (by0 + 1) & parameters.BM;\n        ry0 = t - parseInt(t);\n        ry1 = ry0 - 1;\n\n        i = parameters.P[bx0];\n        j = parameters.P[bx1];\n\n        b00 = parameters.P[i + by0];\n        b10 = parameters.P[j + by0];\n        b01 = parameters.P[i + by1];\n        b11 = parameters.P[j + by1];\n\n        sx = this.sCurve(rx0);\n        sy = this.sCurve(ry0);\n\n        q = parameters.G2[b00];\n        u = rx0 * q[0] + ry0 * q[1];\n        q = parameters.G2[b10];\n        v = rx1 * q[0] + ry0 * q[1];\n        a = this.lerp(sx, u, v);\n\n        q = parameters.G2[b01];\n        u = rx0 * q[0] + ry1 * q[1];\n        q = parameters.G2[b11];\n        v = rx1 * q[0] + ry1 * q[1];\n        b = this.lerp(sx, u, v);\n\n        return 1.5 * this.lerp(sy, a, b);\n    },\n    /**\n     * Compute 3-dimensional Perlin noise.\n     * @param x\n     * @param y\n     * @param z\n     */\n    noise3: function (x, y, z) {\n        var bx0, bx1, by0, by1, bz0, bz1, b00, b10, b01, b11,\n            rx0, rx1, ry0, ry1, rz0, rz1, q, sy, sz, a, b, c, d, t, u, v,\n            i, j;\n\n        this.init();\n\n        t = x + parameters.N;\n        bx0 = parseInt(t) & parameters.BM;\n        bx1 = (bx0 + 1) & parameters.BM;\n        rx0 = t - parseInt(t);\n        rx1 = rx0 - 1;\n\n        t = y + parameters.N;\n        by0 = parseInt(t) & parameters.BM;\n        by1 = (by0 + 1) & parameters.BM;\n        ry0 = t - parseInt(t);\n        ry1 = ry0 - 1;\n\n        t = z + parameters.N;\n        bz0 = parseInt(t) & parameters.BM;\n        bz1 = (bz0 + 1) & parameters.BM;\n        rz0 = t - parseInt(t);\n        rz1 = rz0 - 1;\n\n        i = parameters.P[bx0];\n        j = parameters.P[bx1];\n\n        b00 = parameters.P[i + by0];\n        b10 = parameters.P[j + by0];\n        b01 = parameters.P[i + by1];\n        b11 = parameters.P[j + by1];\n\n        t = this.sCurve(rx0);\n        sy = this.sCurve(ry0);\n        sz = this.sCurve(rz0);\n\n        q = parameters.G3[b00 + bz0];\n        u = rx0 * q[0] + ry0 * q[1] + rz0 * q[2];\n        q = parameters.G3[b10 + bz0];\n        v = rx1 * q[0] + ry0 * q[1] + rz0 * q[2];\n        a = this.lerp(t, u, v);\n\n        q = parameters.G3[b01 + bz0];\n        u = rx0 * q[0] + ry1 * q[1] + rz0 * q[2];\n        q = parameters.G3[b11 + bz0];\n        v = rx1 * q[0] + ry1 * q[1] + rz0 * q[2];\n        b = this.lerp(t, u, v);\n\n        c = this.lerp(sy, a, b);\n\n        q = parameters.G3[b00 + bz1];\n        u = rx0 * q[0] + ry0 * q[1] + rz1 * q[2];\n        q = parameters.G3[b10 + bz1];\n        v = rx1 * q[0] + ry0 * q[1] + rz1 * q[2];\n        a = this.lerp(t, u, v);\n\n        q = parameters.G3[b01 + bz1];\n        u = rx0 * q[0] + ry1 * q[1] + rz1 * q[2];\n        q = parameters.G3[b11 + bz1];\n        v = rx1 * q[0] + ry1 * q[1] + rz1 * q[2];\n        b = this.lerp(t, u, v);\n\n        d = this.lerp(sy, a, b);\n\n        return 1.5 * this.lerp(sz, c, d);\n    },\n    /**\n     * Compute turbulence using Perlin noise.\n     * @param x\n     * @param y\n     * @param z\n     * @param octaves\n     * @returns {*}\n     */\n    turbulence3: function (x, y, z, octaves) {\n        var t = 0,\n            i;\n        for (i = 1; i <= octaves; i *= 2) {\n            t += Math.abs(this.noise3(i * x, i * y, i * z)) / i;\n        }\n        return t;\n    }\n};\n\nexport default noise;\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/noise.js","import BaseTransformEffect from '../BaseTransform';\n\nclass PinchEffect extends BaseTransformEffect {\n    static getName() {\n        return 'pinch';\n    }\n\n    getDefaultParameters() {\n        return {\n            angle: 0,\n            centreX: 0.5,\n            centreY: 0.5,\n            radius: 100,\n            amount: 0.5\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        var icentreX = width * parameters.centreX,\n            icentreY = height * parameters.centreY,\n            radius = parameters.radius,\n            radius2;\n        if (radius === 0) {\n            radius = Math.min(icentreX, icentreY);\n        }\n        radius2 = radius * radius;\n        return {\n            icentreX: icentreX,\n            icentreY: icentreY,\n            radius: radius,\n            radius2: radius2\n        };\n    }\n\n    callback(x, y, parameters) {\n        var dx = x - this.data.icentreX,\n            dy = y - this.data.icentreY,\n            distance = dx * dx + dy * dy,\n            d, t, e, a, s, c;\n\n        if (distance > this.data.radius2 || distance === 0) {\n            return [x, y];\n        }\n        d = Math.sqrt(distance / this.data.radius2);\n        t = Math.pow(Math.sin(Math.PI * 0.5 * d), -parameters.amount);\n\n        dx *= t;\n        dy *= t;\n\n        e = 1 - d;\n        a = parameters.angle * e * e;\n\n        s = Math.sin(a);\n        c = Math.cos(a);\n\n        return [\n            this.data.icentreX + c * dx - s * dy,\n            this.data.icentreY + s * dx + c * dy\n        ];\n    }\n}\n\nexport default PinchEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Pinch.js","import BaseTransformEffect from '../BaseTransform';\nimport {\n    triangle,\n    mod\n} from '../../../helpers/common';\nimport noise from '../../../helpers/noise';\n\nclass RippleEffect extends BaseTransformEffect {\n    static getName() {\n        return 'ripple';\n    }\n\n    getDefaultParameters() {\n        return {\n            xAmplitude: 5,\n            yAmplitute: 0,\n            xWaveLength: 16,\n            yWaveLength: 16,\n            waveType: \"SINE\" // SAWTOOTH TRIANGLE NOISE\n        };\n    }\n\n    callback(x, y, parameters) {\n        var nx = y / parameters.xWaveLength,\n            ny = x / parameters.yWaveLength,\n            fx, fy;\n\n        switch (parameters.waveType) {\n            case \"SINE\":\n            default:\n                fx = Math.sin(nx);\n                fy = Math.sin(ny);\n                break;\n\n            case \"SAWTOOTH\":\n                fx = mod(nx, 1);\n                fy = mod(ny, 1);\n                break;\n\n            case \"TRIANGLE\":\n                fx = triangle(nx);\n                fy = triangle(ny);\n                break;\n\n            case \"NOISE\":\n                fx = noise.noise1(nx);\n                fy = noise.noise1(ny);\n                break;\n        }\n\n        return [\n            x + parameters.xAmplitude * fx,\n            y + parameters.yAmplitute * fy\n        ];\n    }\n}\n\nexport default RippleEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Ripple.js","import BaseTransformEffect from '../BaseTransform';\n\nclass ShearEffect extends BaseTransformEffect {\n    static getName() {\n        return 'shear';\n    }\n\n    getDefaultParameters() {\n        return {\n            xAngle: 0,\n            yAngle: 0,\n            xOffset: 0,\n            yOffset: 0\n        };\n    }\n\n    before(parameters, width, height) {\n        return {\n            shx: Math.sin(parameters.xAngle),\n            shy: Math.sin(parameters.yAngle)\n        };\n    }\n\n    callback(x, y, parameters) {\n        return [\n            x + parameters.xOffset + (y * this.data.shx),\n            y + parameters.yOffset + (x * this.data.shy)\n        ];\n    }\n}\n\nexport default ShearEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Shear.js","import BaseTransformEffect from '../BaseTransform';\n\nclass SphereEffect extends BaseTransformEffect {\n    static getName() {\n        return 'sphere';\n    }\n\n    getDefaultParameters() {\n        return {\n            a: 0,\n            b: 0,\n            centreX: 0.5,\n            centreY: 0.5,\n            refractionIndex: 1.5\n        };\n    }\n\n    before(parameters, width, height) {\n        var icentreX = width * parameters.centreX,\n            icentreY = height * parameters.centreY,\n            a = parameters.a,\n            b = parameters.b,\n            a2, b2;\n        if (a === 0) {\n            a = width / 2;\n        }\n        if (b === 0) {\n            b = height / 2;\n        }\n        a2 = a * a;\n        b2 = b * b;\n\n        return {\n            icentreX: icentreX,\n            icentreY: icentreY,\n            a: a,\n            b: b,\n            a2: a2,\n            b2: b2\n        };\n    }\n\n    callback(x, y, parameters) {\n        var dx = x - this.data.icentreX,\n            dy = y - this.data.icentreY,\n            x2 = dx * dx,\n            y2 = dy * dy,\n            rRefraction = 1 / parameters.refractionIndex,\n            z = Math.sqrt((1 - x2 / this.data.a2 - y2 / this.data.b2) * (this.data.a * this.data.b)),\n            z2 = z * z,\n            xAngle = Math.acos(dx / Math.sqrt(x2 + z2)),\n            angle1 = Math.PI / 2 - xAngle,\n            angle2 = Math.asin(Math.sin(angle1) * rRefraction),\n            yAngle = Math.acos(dy / Math.sqrt(y2 + z2)),\n            ret = new Array(2);\n\n        if (y2 >= (this.data.b2 - (this.data.b2 / x2) / this.data.a2)) {\n            return [x, y];\n        }\n\n        angle2 = (Math.PI / 2) - xAngle - angle2;\n        ret[0] = x - Math.tan(angle2) * z;\n\n        angle1 = (Math.PI / 2) - yAngle;\n        angle2 = Math.asin(Math.sin(angle1) * rRefraction);\n        angle2 = (Math.PI / 2) - yAngle - angle2;\n        ret[1] = y - Math.tan(angle2) * z;\n        return ret;\n    }\n}\n\nexport default SphereEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Sphere.js","import BaseTransformEffect from '../BaseTransform';\nimport noise from '../../../helpers/noise';\n\nclass SwimEffect extends BaseTransformEffect {\n    static getName() {\n        return 'swim';\n    }\n\n    getDefaultParameters() {\n        return {\n            scale: 32,\n            turbulence: 0,\n            amount: 1,\n            time: 0,\n            angle: 0,\n            stretch: 1\n        };\n    }\n\n    before(parameters, width, height) {\n        var cos = Math.cos(parameters.angle),\n            sin = Math.sin(parameters.angle);\n\n        return {\n            m00: cos,\n            m01: sin,\n            m10: -sin,\n            m11: cos\n        };\n    }\n\n    callback(x, y, parameters) {\n        var nx = this.data.m00 * x + this.data.m01 * y,\n            ny = this.data.m10 * x + this.data.m11 * y;\n\n        nx /= parameters.scale;\n        ny /= parameters.scale * parameters.stretch;\n\n        if (parameters.turbulence === 1) {\n            return [\n                x + parameters.amount * noise.noise3(nx + 0.5, ny, parameters.time),\n                y + parameters.amount * noise.noise3(nx, ny + 0.5, parameters.time)\n            ];\n        }\n        return [\n            x + parameters.amount * noise.turbulence3(nx + 0.5, ny, parameters.turbulence, parameters.time),\n            y + parameters.amount * noise.turbulence3(nx, ny + 0.5, parameters.turbulence, parameters.time)\n        ];\n    }\n}\n\nexport default SwimEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Swim.js","import BaseTransformEffect from '../BaseTransform';\nimport noise from '../../../helpers/noise';\n\nclass TwirlEffect extends BaseTransformEffect {\n    static getName() {\n        return 'twirl';\n    }\n\n    getDefaultParameters() {\n        return {\n            angle: 0,\n            centreX: 0.5,\n            centreY: 0.5,\n            radius: 100\n        };\n    }\n\n    before(parameters, width, height) {\n        var iCentreX = width * parameters.centreX,\n            iCentreY = height * parameters.centreY,\n            radius = parameters.radius,\n            radius2;\n\n        if (radius === 0) {\n            radius = Math.min(iCentreX, iCentreY);\n        }\n        radius2 = radius * radius;\n\n        return {\n            iCentreX: iCentreX,\n            iCentreY: iCentreY,\n            radius: radius,\n            radius2: radius2\n        };\n    }\n\n    callback(x, y, parameters) {\n        var dx = x - this.data.iCentreX,\n            dy = y - this.data.iCentreY,\n            distance = dx * dx + dy * dy,\n            a;\n\n        if (distance > parameters.radius2) {\n            return [x, y];\n        }\n\n        distance = Math.sqrt(distance);\n        a = Math.atan2(dy, dx) + parameters.angle * (parameters.radius - distance) / parameters.radius;\n\n        return [\n            this.data.iCentreX + distance * Math.cos(a),\n            this.data.iCentreY + distance * Math.sin(a)\n        ];\n    }\n}\n\nexport default TwirlEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Twirl.js","import BaseTransformEffect from '../BaseTransform';\nimport noise from '../../../helpers/noise';\n\nclass WaterEffect extends BaseTransformEffect {\n    static getName() {\n        return 'water';\n    }\n\n    getDefaultParameters() {\n        return {\n            waveLength: 16,\n            amplitude: 10,\n            phase: 0,\n            centreX: 0.5,\n            centreY: 0.5,\n            radius: 50\n        };\n    }\n\n    before(parameters, width, height) {\n        var iCentreX = width * parameters.centreX,\n            iCentreY = height * parameters.centreY,\n            radius = parameters.radius,\n            radius2;\n\n        if (radius === 0) {\n            radius = Math.min(iCentreX, iCentreY);\n        }\n        radius2 = radius * radius;\n\n        return {\n            iCentreX: iCentreX,\n            iCentreY: iCentreY,\n            radius: radius,\n            radius2: radius2\n        };\n    }\n\n    callback(x, y, parameters) {\n        var dx = x - this.data.iCentreX,\n            dy = y - this.data.iCentreY,\n            distance2 = dx * dx + dy * dy,\n            distance,\n            amount;\n\n        if (distance2 > this.data.radius2) {\n            return [x, y];\n        }\n        distance = Math.sqrt(distance2);\n        amount = parameters.amplitude * Math.sin(distance / parameters.waveLength * Math.PI * 2 - parameters.phase);\n        amount *= (parameters.radius - distance) / parameters.radius;\n        if (distance !== 0) {\n            amount *= parameters.waveLength / distance;\n        }\n        return [x + dx * amount, y + dy * amount];\n    }\n}\n\nexport default WaterEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Water.js","import BaseTransformEffect from '../BaseTransform';\nimport {mod} from '../../../helpers/common';\n\nclass CircleEffect extends BaseTransformEffect {\n    static getName() {\n        return 'circle';\n    }\n\n    getDefaultParameters() {\n        return {\n            radius: 10,\n            height: 20,\n            angle: 0,\n            spreadAngle: Math.PI,\n            centreX: 0.5,\n            centreY: 0.5\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        return {\n            icentreX: width * parameters.centreX,\n            icentreY: height * parameters.centreY,\n            width: --width\n        };\n    }\n\n    callback(x, y, parameters, width, height) {\n        var dx = x - this.data.icentreX,\n            dy = y - this.data.icentreX,\n            theta = Math.atan2(-dy, -dx) + parameters.angle,\n            r = Math.sqrt(dx * dx + dy * dy);\n\n        theta = mod(theta, 2 * Math.PI);\n\n        return [\n            this.data.width * theta / parameters.spreadAngle + 0.00001,\n            height * (1 - (r - parameters.radius) / (height + 0.00001))\n        ];\n    }\n}\n\nexport default CircleEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Circle.js","import BaseTransformEffect from '../BaseTransform';\n\nclass RotateEffect extends BaseTransformEffect {\n    static getName() {\n        return 'rotate';\n    }\n\n    getDefaultParameters() {\n        return {\n            angle: Math.PI\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        return {\n            cos: Math.cos(parameters.angle),\n            sin: Math.sin(parameters.angle),\n            icentreX: width / 2,\n            icentreY: height / 2\n        };\n    }\n\n    callback(x, y, parameters, width, height) {\n        return [\n            ((this.data.cos * (x - this.data.icentreX)) - (this.data.sin * (y - this.data.icentreY)) + this.data.icentreY),\n            ((this.data.sin * (x - this.data.icentreX)) - (this.data.cos * (y - this.data.icentreY)) + this.data.icentreY)\n        ];\n    }\n}\n\nexport default RotateEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Rotate.js","import BaseTransformEffect from '../BaseTransform';\n\nclass RotateEffect extends BaseTransformEffect {\n    static getName() {\n        return 'offset';\n    }\n\n    getDefaultParameters() {\n        return {\n            xOffset: 100,\n            yOffset: 100,\n            wrap: true\n        };\n    }\n\n    callback(x, y, parameters, width, height) {\n        if (parameters.wrap) {\n            return [\n                (x + width - parameters.xOffset) % width,\n                (y + height - parameters.yOffset) % height\n            ];\n        }\n        else {\n            return [\n                x - parameters.xOffset,\n                y - parameters.yOffset\n            ];\n        }\n    }\n}\n\nexport default RotateEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Offset.js","import BaseTransformEffect from '../BaseTransform';\n\nclass PolarEffect extends BaseTransformEffect {\n    static getName() {\n        return 'polar';\n    }\n\n    getDefaultParameters() {\n        return {\n            type: \"RECT_TO_POLAR\" // RECT_TO_POLAR, POLAR_TO_RECT, INVERT_IN_CIRCLE\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        return {\n            centreX: width / 2,\n            centreY: height / 2,\n            radius: Math.max(width / 2, height / 2),\n            sqr: function (x) {\n                return x * x;\n            }\n        };\n    }\n\n    callback(x, y, parameters, width, height) {\n        var theta, theta2, t,\n            m, xMax, yMax, nx, ny, xmax, ymax,\n            dx, dy, distance,\n            r = 0;\n\n        switch (parameters.type) {\n            case \"RECT_TO_POLAR\":\n                if (x >= this.data.centreX) {\n                    if (y > this.data.centreY) {\n                        theta = Math.PI - Math.atan(((x - this.data.centreX)) / ((y - this.data.centreY)));\n                        r = Math.sqrt(this.data.sqr(x - this.data.centreX) + this.data.sqr(y - this.data.centreY));\n                    }\n                    else {\n                        if (y < this.data.centreY) {\n                            theta = Math.atan(((x - this.data.centreX)) / ((this.data.centreY - y)));\n                            r = Math.sqrt(this.data.sqr(x - this.data.centreX) + this.data.sqr(this.data.centreY - y));\n                        }\n                        else {\n                            theta = Math.PI / 2;\n                            r = x - this.data.centreX;\n                        }\n                    }\n                }\n                else {\n                    if (x < this.data.centreX) {\n                        if (y < this.data.centreY) {\n                            theta = (Math.PI * 2) - Math.atan(((this.data.centreX - x)) / ((this.data.centreY - y)));\n                            r = Math.sqrt(this.data.sqr(this.data.centreX - x) + this.data.sqr(this.data.centreY - y));\n                        }\n                        else {\n                            if (y > this.data.centreY) {\n                                theta = Math.PI + Math.atan(((this.data.centreX - x)) / ((y - this.data.centreY)));\n                                r = Math.sqrt(this.data.sqr(this.data.centreX - x) + this.data.sqr(y - this.data.centreY));\n                            }\n                            else {\n                                theta = 1.5 * Math.PI;\n                                r = this.data.centreX - x;\n                            }\n                        }\n                    }\n                }\n                if (x != this.data.centreX) {\n                    m = Math.abs(((y - this.data.centreY)) / ((x - this.data.centreX)));\n                }\n                else {\n                    m = 0;\n                }\n\n                if (m <= ((height / width))) {\n                    if (x == this.data.centreX) {\n                        xMax = 0;\n                        yMax = this.data.centreY;\n                    }\n                    else {\n                        xMax = this.data.centreX;\n                        yMax = m * xMax;\n                    }\n                }\n                else {\n                    yMax = this.data.centreY;\n                    xMax = yMax / m;\n                }\n\n                return [\n                    (width - 1) - (width - 1) / (Math.PI * 2 * theta),\n                    height * r / this.data.radius\n                ];\n\n            case \"POLAR_TO_RECT\":\n\n                theta = x / width * Math.PI * 2;\n\n                if (theta >= 1.5 * Math.PI) {\n                    theta2 = Math.PI * 2 - theta;\n                }\n                else {\n                    if (theta >= Math.PI) {\n                        theta2 = theta - Math.PI;\n                    }\n                    else {\n                        if (theta >= 0.5 * Math.PI\n                        ) {\n                            theta2 = Math.PI - theta;\n                        }\n                        else {\n                            theta2 = theta;\n                        }\n                    }\n                }\n\n                t = Math.tan(theta2);\n                if (t != 0) {\n                    m = 1.0 / t;\n                }\n                else {\n                    m = 0;\n                }\n\n                if (m <= ((height) / (width))) {\n                    if (theta2 == 0) {\n                        xmax = 0;\n                        ymax = this.data.centreY;\n                    }\n                    else {\n                        xmax = this.data.centreX;\n                        ymax = m * xmax;\n                    }\n                }\n                else {\n                    ymax = this.data.centreY;\n                    xmax = ymax / m;\n                }\n\n                r = this.data.radius * (y / (height));\n\n                nx = -r * Math.sin(theta2);\n                ny = r * Math.cos(theta2);\n\n                if (theta >= 1.5 * Math.PI) {\n                    return [\n                        this.data.centreX - nx,\n                        this.data.centreY - ny\n                    ];\n                }\n                else {\n                    if (theta >= Math.PI) {\n                        return [\n                            this.data.centreX - nx,\n                            this.data.centreY + ny\n                        ];\n                    }\n                    else {\n                        if (theta >= 0.5 * Math.PI) {\n                            return [\n                                this.data.centreX + nx,\n                                this.data.centreY + ny\n                            ];\n                        }\n                        else {\n                            return [\n                                this.data.centreX + nx,\n                                this.data.centreY - ny\n                            ];\n                        }\n                    }\n                }\n                break;\n\n            case \"INVERT_IN_CIRCLE\":\n                dx = x - this.data.centreX;\n                dy = y - this.data.centreY;\n                distance = dx * dx + dy * dy;\n\n                return [\n                    this.data.centreX + this.data.centreX * this.data.centreX * dx / distance,\n                    this.data.centreY + this.data.centreY * this.data.centreY * dy / distance\n                ];\n        }\n    }\n}\nexport default PolarEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Polar.js","import BaseTransformEffect from '../BaseTransform';\nimport noiseHelper from '../../../helpers/noise';\n\nclass PerspectiveEffect extends BaseTransformEffect {\n    static getName() {\n        return 'perspective';\n    }\n\n    getDefaultParameters() {\n        return {\n            x0: 0,\n            y0: 0,\n            x1: 1,\n            y1: 0,\n            x2: 1,\n            y2: 1,\n            x3: 0,\n            y3: 1\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        function unitSquareToQuad() {\n            var result = {},\n                x0 = Math.floor(width * parameters.x0),\n                y0 = Math.floor(height * parameters.y0),\n                x1 = Math.floor(width * parameters.x1),\n                y1 = Math.floor(height * parameters.y1),\n                x2 = Math.floor(width * parameters.x2),\n                y2 = Math.floor(height * parameters.y2),\n                x3 = Math.floor(width * parameters.x3),\n                y3 = Math.floor(height * parameters.y3),\n                dx1 = x1 - x2,\n                dy1 = y1 - y2,\n                dx2 = x3 - x2,\n                dy2 = y3 - y2,\n                dx3 = x0 - x1 + x2 - x3,\n                dy3 = y0 - y1 + y2 - y3;\n\n            if (dx3 == 0 && dy3 == 0) {\n                result.a11 = x1 - x0;\n                result.a21 = x2 - x1;\n                result.a31 = x0;\n                result.a12 = y1 - y0;\n                result.a22 = y2 - y1;\n                result.a32 = y0;\n                result.a13 = result.a23 = 0;\n            }\n            else {\n                result.a13 = (dx3 * dy2 - dx2 * dy3) / (dx1 * dy2 - dy1 * dx2);\n                result.a23 = (dx1 * dy3 - dy1 * dx3) / (dx1 * dy2 - dy1 * dx2);\n                result.a11 = x1 - x0 + result.a13 * x1;\n                result.a21 = x3 - x0 + result.a23 * x3;\n                result.a31 = x0;\n                result.a12 = y1 - y0 + result.a13 * y1;\n                result.a22 = y3 - y0 + result.a23 * y3;\n                result.a32 = y0;\n            }\n\n            result.a33 = 1;\n\n            return result;\n        }\n\n        var result = unitSquareToQuad();\n\n        result.A = result.a22 * result.a33 - result.a32 * result.a23;\n        result.B = result.a31 * result.a23 - result.a21 * result.a33;\n        result.C = result.a21 * result.a32 - result.a31 * result.a22;\n        result.D = result.a32 * result.a13 - result.a12 * result.a33;\n        result.E = result.a11 * result.a33 - result.a31 * result.a13;\n        result.F = result.a31 * result.a12 - result.a11 * result.a32;\n        result.G = result.a12 * result.a23 - result.a22 * result.a13;\n        result.H = result.a21 * result.a13 - result.a11 * result.a23;\n        result.I = result.a11 * result.a22 - result.a21 * result.a12;\n\n        return result;\n    }\n\n    callback(x, y, parameters, width, height) {\n        return [\n            width * (this.data.A * x + this.data.B * y + this.data.C) / (this.data.G * x + this.data.H * y + this.data.I),\n            height * (this.data.D * x + this.data.E * y + this.data.F) / (this.data.G * x + this.data.H * y + this.data.I)\n        ];\n    }\n}\nexport default PerspectiveEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Perspective.js","import BaseCustomEffect from '../BaseCustom';\nimport {\n    RGBtoCIELab,\n    CIELabToRGB\n} from '../../../helpers/color'\n\nclass AutoWhiteBalanceEffect extends BaseCustomEffect {\n    static getName() {\n        return 'auto-white-balance';\n    }\n\n    getDefaultParameters() {\n        return {\n            intensity: 50\n        };\n    }\n\n    callback(width, height, parameters) {\n        var x, y,\n            sumA = 0, sumB = 0,\n            pixel,\n            lab,\n            avgSumA, avgSumB,\n            aDelta, bDelta;\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                pixel = this.getPixel(x, y);\n                lab = RGBtoCIELab(pixel.r, pixel.g, pixel.b);\n                sumA += lab.a;\n                sumB += lab.b;\n            }\n        }\n\n        avgSumA = 0 - (sumA / (width * height));\n        avgSumB = 0 - (sumB / (width * height));\n\n        aDelta = avgSumA * (parameters.intensity / 100) * 1.1;\n        bDelta = avgSumB * (parameters.intensity / 100) * 1.1;\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                pixel = this.getPixel(x, y);\n\n                lab = RGBtoCIELab(pixel.r, pixel.g, pixel.b);\n\n                lab.a += aDelta;\n                lab.b += bDelta;\n\n                pixel = CIELabToRGB(lab.l, lab.a, lab.b);\n                pixel.a = this.getPixel(x, y).a;\n\n                this.setPixel(x, y, pixel);\n            }\n        }\n    }\n}\n\nexport default AutoWhiteBalanceEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/AutoWhiteBalance.js","import BaseEffect from './Base';\nimport extend from 'extend';\n\nclass BaseCustomEffect extends BaseEffect {\n    callback(pixel, x, y, parameters, width, height) {\n        throw \"Extend it.\"\n    }\n\n    run(imageData, parameters) {\n\n        parameters = extend(true, {}, this.getDefaultParameters(), parameters);\n\n        var imageDataCopy = new Uint8ClampedArray(imageData.data), // copy image data\n            /**\n             * Get ImageData array index from x and y position\n             * @param x\n             * @param y\n             * @returns {number}\n             */\n            getIndex = function getIndex(x, y) {\n                return y * imageData.width * 4 + x * 4;\n            },\n            normalizePixelValue = function (value) {\n                return Math.min(Math.max(value, 0), 255) | 0;\n            },\n            sandbox = { // object invoked as this in effect callback\n                /**\n                 * Get changed pixel\n                 * @param {int} x\n                 * @param {int} y\n                 * @returns {{r: *, g: *, b: *, a: *}}\n                 */\n                getPixel: function (x, y) {\n                    var index = getIndex(x, y);\n                    return {\n                        r: imageDataCopy[index + 0],\n                        g: imageDataCopy[index + 1],\n                        b: imageDataCopy[index + 2],\n                        a: imageDataCopy[index + 3]\n                    };\n                },\n                /**\n                 * Get pixel by its index\n                 * @param index\n                 */\n                getOriginalPixelByIndex: function (index) {\n                    index *= 4;\n                    return {\n                        r: imageData.data[index],\n                        g: imageData.data[index + 1],\n                        b: imageData.data[index + 2],\n                        a: imageData.data[index + 3]\n                    };\n                },\n                /**\n                 * Get original pixel.\n                 * @param {int} x\n                 * @param {int} y\n                 * @returns {{r: *, g: *, b: *, a: *}}\n                 */\n                getOriginalPixel: function (x, y) {\n                    var index = getIndex(x, y);\n                    return {\n                        r: imageData.data[index + 0],\n                        g: imageData.data[index + 1],\n                        b: imageData.data[index + 2],\n                        a: imageData.data[index + 3]\n                    };\n                },\n                /**\n                 * Set new pixel\n                 * @param {int} x\n                 * @param {int} y\n                 * @param {object} rgba\n                 */\n                setPixel: function (x, y, rgba) {\n                    var index = getIndex(x, y);\n                    imageDataCopy[index + 0] = normalizePixelValue(rgba.r);\n                    imageDataCopy[index + 1] = normalizePixelValue(rgba.g);\n                    imageDataCopy[index + 2] = normalizePixelValue(rgba.b);\n                    imageDataCopy[index + 3] = normalizePixelValue(rgba.a);\n                },\n                /**\n                 * Set pixel by index.\n                 * @param index\n                 * @param rgba\n                 */\n                setPixelByIndex: function (index, rgba) {\n                    index *= 4;\n                    imageDataCopy[index + 0] = normalizePixelValue(rgba.r);\n                    imageDataCopy[index + 1] = normalizePixelValue(rgba.g);\n                    imageDataCopy[index + 2] = normalizePixelValue(rgba.b);\n                    imageDataCopy[index + 3] = normalizePixelValue(rgba.a);\n                },\n                /**\n                 * Data created by effect init function\n                 */\n                data: null,\n                /**\n                 * ImageData width\n                 */\n                width: imageData.width,\n                /**\n                 * ImageData height\n                 */\n                height: imageData.height\n            };\n\n        sandbox.data = this.before.call(sandbox, parameters, imageData.width, imageData.height, imageData);\n\n        this.callback.call(sandbox, imageData.width, imageData.height, parameters);\n\n        imageData.data.set(imageDataCopy);\n\n        return imageData;\n    }\n}\n\nexport default BaseCustomEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/BaseCustom.js","import BaseCustomEffect from '../BaseCustom';\nimport {\n    hexToRGB,\n} from '../../../helpers/color'\n\nclass FillColorEffect extends BaseCustomEffect {\n    static getName() {\n        return 'fill-color';\n    }\n\n    getDefaultParameters() {\n        return {\n            color: \"transparent\"\n        };\n    }\n\n    callback(width, height, parameters) {\n        var x, y, color;\n\n        if (parameters.color === \"transparent\") {\n            color = {\n                r: 0,\n                g: 0,\n                b: 0,\n                a: 0\n            };\n        }\n        else {\n            color = hexToRGB(parameters.color);\n            color.a = 255;\n        }\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                this.setPixel(x, y, color);\n            }\n        }\n    }\n}\n\nexport default FillColorEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/FillColor.js","import BaseCustomEffect from '../BaseCustom';\n\nclass FlipEffect extends BaseCustomEffect {\n    static getName() {\n        return 'flip';\n    }\n\n    getDefaultParameters() {\n        return {\n            operation: \"FLIP_H\" // FLIP_H, FLIP_V, FLIP_HV, FLIP_90CW, FLIP_90CCW, FLIP_180\n        };\n    }\n\n    callback(width, height, parameters) {\n        var x = 0, y = 0,\n            w = width,\n            h = height,\n            newX = 0,\n            newY = 0,\n            newW = w,\n            newH = h,\n            newRow, newCol;\n\n        switch (parameters.operation) {\n            case \"FLIP_H\":\n                newX = width - (x + w);\n                break;\n            case \"FLIP_V\":\n                newY = height - (y + h);\n                break;\n            case \"FLIP_HV\":\n                newW = h;\n                newH = w;\n                newX = y;\n                newY = x;\n                break;\n            case \"FLIP_90CW\":\n                newW = h;\n                newH = w;\n                newX = height - (y + h);\n                newY = x;\n                break;\n            case \"FLIP_90CCW\":\n                newW = h;\n                newH = w;\n                newX = y;\n                newY = width - (x + w);\n                break;\n            case \"FLIP_180\":\n                newX = width - (x + w);\n                newY = height - (y + h);\n                break;\n        }\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                newRow = y;\n                newCol = x;\n\n                switch (parameters.operation) {\n                    case \"FLIP_H\":\n                        newCol = w - x - 1;\n                        break;\n                    case \"FLIP_V\":\n                        newRow = h - y - 1;\n                        break;\n                    case \"FLIP_HV\":\n                        newRow = x;\n                        newCol = y;\n                        break;\n                    case \"FLIP_90CW\":\n                        newRow = x;\n                        newCol = h - y - 1;\n                        break;\n                    case \"FLIP_90CCW\":\n                        newRow = w - x - 1;\n                        newCol = y;\n                        break;\n                    case \"FLIP_180\":\n                        newRow = h - y - 1;\n                        newCol = w - x - 1;\n                        break;\n                }\n\n                this.setPixel(newCol, newRow, this.getOriginalPixel(x, y));\n            }\n        }\n    }\n}\n\nexport default FlipEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/Flip.js","import BaseCustomEffect from '../BaseCustom';\n\nclass BlockEffect extends BaseCustomEffect {\n    static getName() {\n        return 'block';\n    }\n\n    getDefaultParameters() {\n        return {\n            blockSize: 5\n        };\n    }\n\n    callback(width, height, parameters) {\n        var x, y,\n            w, h,\n            t,\n            r, g, b,\n            pixel,\n            by, bx;\n\n        for (y = 0; y < height; y += parameters.blockSize) {\n            for (x = 0; x < width; x += parameters.blockSize) {\n                w = Math.min(parameters.blockSize, width - x);\n                h = Math.min(parameters.blockSize, height - y);\n                t = w * h;\n\n                r = 0;\n                g = 0;\n                b = 0;\n\n                for (by = 0; by < h; by += 1) {\n                    for (bx = 0; bx < w; bx += 1) {\n                        pixel = this.getOriginalPixel(x + bx, y + by);\n\n                        r += pixel.r & 0xFF;\n                        g += pixel.g & 0XFF;\n                        b += pixel.b & 0xFF;\n                    }\n                }\n\n                r = r / t;\n                g = g / t;\n                b = b / t;\n\n                for (by = 0; by < h; by += 1) {\n                    for (bx = 0; bx < w; bx += 1) {\n                        this.setPixel(x + bx, y + by, {\n                            r: r,\n                            g: g,\n                            b: b,\n                            a: 255\n                        });\n                    }\n                }\n            }\n        }\n    }\n}\n\nexport default BlockEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/Block.js","import BaseCustomEffect from '../BaseCustom';\n\nclass BorderEffect extends BaseCustomEffect {\n    static getName() {\n        return 'border';\n    }\n\n    getDefaultParameters() {\n        return {\n            leftBorder: 10,\n            rightBorder: 10,\n            topBorder: 10,\n            bottomBorder: 10,\n            borderColor: {\n                r: 0,\n                b: 0,\n                g: 0,\n                a: 255\n            }\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        return {\n            leftBorder: parameters.leftBorder | 0,\n            rightBorder: parameters.rightBorder | 0,\n            topBorder: parameters.rightBorder | 0,\n            bottomBorder: parameters.bottomBorder | 0\n        };\n    }\n\n    callback(width, height, parameters) {\n        var x, y;\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                if (this.data.leftBorder > 0 && x < this.data.leftBorder) {\n                    this.setPixel(x, y, parameters.borderColor);\n                }\n                if (this.data.rightBorder > 0 && width - this.data.rightBorder < x) {\n                    this.setPixel(x, y, parameters.borderColor);\n                }\n                if (this.data.topBorder > 0 && y < this.data.topBorder) {\n                    this.setPixel(x, y, parameters.borderColor);\n                }\n                if (this.data.bottomBorder > 0 && height - this.data.bottomBorder < y) {\n                    this.setPixel(x, y, parameters.borderColor);\n                }\n            }\n        }\n    }\n}\n\nexport default BorderEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/Border.js","import BaseCustomEffect from '../BaseCustom';\nimport {\n    brightness,\n} from '../../../helpers/common'\n\nclass EmbossEffect extends BaseCustomEffect {\n    static getName() {\n        return 'emboss';\n    }\n\n    getDefaultParameters() {\n        return {\n            azimuth: 135 * Math.PI / 180,\n            elevation: 30 * Math.PI / 180,\n            width45: 3,\n            emboss: true\n        };\n    }\n\n    callback(width, height, parameters) {\n        var x, y,\n            bumpMapWidth = width,\n            bumpPixels = [],\n            Nx, Ny, Nz, Lx, Ly, Lz, Nz2, NzLz, NdotL,\n            s1, s2, s3,\n            shade, background,\n            pixelScale = 255.9,\n            bumpIndex = 0,\n            index = 0,\n            pixel,\n            r, g, b;\n\n        Lx = (Math.cos(parameters.azimuth) * Math.cos(parameters.elevation) * pixelScale) | 0;\n        Ly = (Math.sin(parameters.azimuth) * Math.cos(parameters.elevation) * pixelScale) | 0;\n        Lz = (Math.sin(parameters.elevation) * pixelScale) | 0;\n\n        Nz = (6 * 255 / parameters.width45) | 0;\n        Nz2 = Nz * Nz;\n        NzLz = Nz * Lz;\n\n        background = Lz;\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                bumpPixels.push(brightness(this.getOriginalPixel(x, y)) | 0);\n            }\n        }\n\n        for (y = 0; y < height; y += 1, bumpIndex += bumpMapWidth) {\n            s1 = bumpIndex;\n            s2 = s1 + bumpMapWidth;\n            s3 = s2 + bumpMapWidth;\n\n            for (x = 0; x < width; x += 1, s1 += 1, s2 += 1, s3 += 1) {\n                if (y != 0 && y < height - 2 && x != 0 && x < width - 2) {\n                    Nx = bumpPixels[s1 - 1] + bumpPixels[s2 - 1] + bumpPixels[s3 - 1] - bumpPixels[s1 + 1] - bumpPixels[s2 + 1] - bumpPixels[s3 + 1];\n                    Ny = bumpPixels[s3 - 1] + bumpPixels[s3] + bumpPixels[s3 + 1] - bumpPixels[s1 - 1] - bumpPixels[s1] - bumpPixels[s1 + 1];\n\n                    if (Nx == 0 && Ny == 0) {\n                        shade = background;\n                    }\n                    else {\n                        if ((NdotL = Nx * Lx + Ny * Ly + NzLz) < 0) {\n                            shade = 0;\n                        }\n                        else {\n                            shade = (NdotL / Math.sqrt(Nx * Nx + Ny * Ny + Nz2));\n                        }\n                    }\n                }\n                else {\n                    shade = background;\n                }\n\n                if (parameters.emboss) {\n                    pixel = this.getOriginalPixelByIndex(index);\n                    r = (pixel.r * shade) >> 8;\n                    g = (pixel.g * shade) >> 8;\n                    b = (pixel.b * shade) >> 8;\n                    this.setPixelByIndex(index++, {\n                        r: r,\n                        g: g,\n                        b: b,\n                        a: pixel.a\n                    });\n                }\n                else {\n                    this.setPixelByIndex(index++, {\n                        r: shade,\n                        g: shade << 8,\n                        b: shade << 16,\n                        a: 255\n                    });\n                }\n            }\n        }\n    }\n}\n\nexport default EmbossEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/Emboss.js","import BaseCustomEffect from '../BaseCustom';\n\nclass ComponentStretchingEffect extends BaseCustomEffect {\n    static getName() {\n        return 'component-stretching';\n    }\n\n    callback(width, height, parameters) {\n        var x, y,\n            minR = Infinity, minG = Infinity, minB = Infinity,\n            maxR = -1, maxG = -1, maxB = -1,\n            pixel,\n            remap = function remap(value, min, max) {\n                return (value - min) * 255 / (max - min);\n            };\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                pixel = this.getPixel(x, y);\n\n                minR = Math.min(pixel.r, minR);\n                minG = Math.min(pixel.g, minG);\n                minB = Math.min(pixel.b, minB);\n\n                maxR = Math.max(pixel.r, maxR);\n                maxG = Math.max(pixel.g, maxG);\n                maxB = Math.max(pixel.b, maxB);\n            }\n        }\n\n        for (y = 0; y < height; y += 1) {\n            for (x = 0; x < width; x += 1) {\n                pixel = this.getPixel(x, y);\n\n                pixel.r = remap(pixel.r, minR, maxR);\n                pixel.g = remap(pixel.g, minG, maxG);\n                pixel.b = remap(pixel.b, minB, maxB);\n\n                this.setPixel(x, y, pixel);\n            }\n        }\n    }\n}\n\nexport default ComponentStretchingEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/custom/ComponentStretching.js","module.exports = __WEBPACK_EXTERNAL_MODULE_63__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 63\n// module chunks = 0","import BaseOnLayerObject from './BaseOnLayer';\nimport CanvasWrapper from './CanvasWrapper';\nimport {isNode} from '../helpers/common';\n\nclass Image extends BaseOnLayerObject {\n    constructor() {\n        super();\n        this.url = null;\n\n        if (isNode()) {\n            let canvas = require('canvas');\n            this.image = new canvas.Image();\n        }\n        else {\n            this.image = new window.Image();\n\n            // hide from viewport\n            this.image.style.position = \"absolute\";\n            this.image.style.left = \"-99999px\";\n            this.image.style.top = \"-99999px\";\n        }\n    }\n\n    load(url, callback) {\n        let load = () => {\n            this.setWidth(isNode() ? this.image.width : this.image.clientWidth);\n            this.setHeight(isNode() ? this.image.height : this.image.clientHeight);\n\n            // get image data\n            this.canvas = new CanvasWrapper(this.getWidth(), this.getHeight());\n            this.canvas.getContext().drawImage(this.image, 0, 0, this.getWidth(), this.getHeight());\n\n            if (!isNode()) {\n                document.body.removeChild(this.image);\n            }\n\n            if (typeof callback === \"function\") {\n                callback.call(this);\n            }\n        };\n\n        this.url = url;\n\n        if (!isNode()) {\n            document.body.appendChild(this.image);\n            this.image.onload = function () {\n                load();\n            };\n            this.image.src = url;\n        }\n        else {\n            let fs = require(\"fs\");\n            this.image.src = fs.readFileSync(url);\n            load();\n        }\n    }\n}\n\nexport default Image;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/Image.js","import CanvasWrapper from './CanvasWrapper'\nimport {\n    resizeNearestNeighbour,\n    resizeBilinearInterpolation,\n    resizeBiquadraticInterpolation\n} from '../helpers/resize'\n\nclass BaseOnLayerObject {\n    constructor() {\n        this.imageData = null;\n        this.canvas = null;\n        this.width = 0;\n        this.height = 0;\n    }\n\n    getWidth() {\n        return this.width;\n    }\n\n    getHeight() {\n        return this.height;\n    }\n\n    setWidth(value) {\n        this.width = value;\n        return this;\n    }\n\n    setHeight(value) {\n        this.height = value;\n        return this;\n    }\n\n    getImageData() {\n        if (!this.imageData) {\n            this.imageData = this.canvas.getContext().getImageData(0, 0, this.getWidth(), this.getHeight());\n        }\n        return this.imageData;\n    }\n\n    setImageData(value) {\n        this.imageData = value;\n        return this;\n    }\n\n    resize(newWidth, newHeight, mode = 'nearest-neighbour') {\n        let oldImageData = this.getImageData(),\n            canvas = new CanvasWrapper(newWidth, newHeight),\n            newImageData = canvas.getContext().createImageData(newWidth, newHeight);\n\n        switch (mode) {\n            case \"nearest-neighbour\":\n                newImageData = resizeNearestNeighbour(oldImageData, newImageData, newWidth, newHeight);\n                break;\n\n            case \"bilinear-interpolation\":\n                newImageData = resizeBilinearInterpolation(oldImageData, newImageData, newWidth, newHeight);\n                break;\n\n            case \"biquadratic-interpolation\":\n                newImageData = resizeBiquadraticInterpolation(oldImageData, newImageData, newWidth, newHeight);\n                break;\n\n            default:\n                canvas.destroy();\n                return this;\n        }\n\n        canvas.destroy();\n\n        return this.setWidth(newWidth)\n            .setHeight(newHeight)\n            .setImageData(newImageData);\n    }\n}\n\nexport default BaseOnLayerObject;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/BaseOnLayer.js","export function resizeNearestNeighbour(oldImageData, newImageData, newWidth, newHeight) {\n    let oldWidth = oldImageData.width,\n        oldHeight = oldImageData.height,\n        ratioX = oldWidth / newWidth,\n        ratioY = oldHeight / newHeight,\n        oldPixelIndex,\n        newPixelIndex,\n        x, y;\n\n    for (y = 0; y < newHeight; y += 1) {\n        for (x = 0; x < newWidth; x += 1) {\n            oldPixelIndex = Math.floor(y * ratioY) * oldWidth * 4 + Math.floor(x * ratioX) * 4;\n            newPixelIndex = y * newWidth * 4 + x * 4;\n\n            newImageData.data[newPixelIndex + 0] = oldImageData.data[oldPixelIndex + 0];\n            newImageData.data[newPixelIndex + 1] = oldImageData.data[oldPixelIndex + 1];\n            newImageData.data[newPixelIndex + 2] = oldImageData.data[oldPixelIndex + 2];\n            newImageData.data[newPixelIndex + 3] = oldImageData.data[oldPixelIndex + 3];\n        }\n    }\n\n    return newImageData;\n}\n\nexport function resizeBilinearInterpolation(oldImageData, newImageData, newWidth, newHeight) {\n    let oldWidth = oldImageData.width,\n        oldHeight = oldImageData.height,\n        ratioX = oldWidth / newWidth,\n        ratioY = oldHeight / newHeight,\n        newPixelIndex,\n        x, y,\n        x0, y0,\n        dx, dy,\n        x1, y1,\n        oldPixelIndex00, oldPixelIndex01, oldPixelIndex10, oldPixelIndex11,\n        i, j;\n\n    for (i = 0; i < newHeight; i += 1) {\n        for (j = 0; j < newWidth; j += 1) {\n            x = j * ratioX;\n            y = i * ratioY;\n            x0 = Math.floor(x);\n            y0 = Math.floor(y);\n            dx = x - x0;\n            dy = y - y0;\n            x1 = x0 + 1;\n            y1 = y0 + 1;\n\n            if (x1 >= oldWidth) {\n                x1 = x0;\n            }\n            if (y1 >= oldHeight) {\n                y1 = y0;\n            }\n\n            oldPixelIndex00 = (y0 * oldWidth + x0) * 4;\n            oldPixelIndex01 = (y0 * oldWidth + x1) * 4;\n            oldPixelIndex10 = (y1 * oldWidth + x0) * 4;\n            oldPixelIndex11 = (y1 * oldWidth + x1) * 4;\n            newPixelIndex = (i * newWidth + j) * 4;\n\n            newImageData.data[newPixelIndex] =\n                (1.0 - dy) * ((1.0 - dx) * oldImageData.data[oldPixelIndex00] + dx * oldImageData.data[oldPixelIndex01]) +\n                dy * ((1.0 - dx) * oldImageData.data[oldPixelIndex10] + dx * oldImageData.data[oldPixelIndex11]);\n            newImageData.data[newPixelIndex + 1] =\n                (1.0 - dy) * ((1.0 - dx) * oldImageData.data[oldPixelIndex00 + 1] + dx * oldImageData.data[oldPixelIndex01 + 1]) +\n                dy * ((1.0 - dx) * oldImageData.data[oldPixelIndex10 + 1] + dx * oldImageData.data[oldPixelIndex11 + 1]);\n            newImageData.data[newPixelIndex + 2] =\n                (1.0 - dy) * ((1.0 - dx) * oldImageData.data[oldPixelIndex00 + 2] + dx * oldImageData.data[oldPixelIndex01 + 2]) +\n                dy * ((1.0 - dx) * oldImageData.data[oldPixelIndex10 + 2] + dx * oldImageData.data[oldPixelIndex11 + 2]);\n            newImageData.data[newPixelIndex + 3] =\n                (1.0 - dy) * ((1.0 - dx) * oldImageData.data[oldPixelIndex00 + 3] + dx * oldImageData.data[oldPixelIndex01 + 3]) +\n                dy * ((1.0 - dx) * oldImageData.data[oldPixelIndex10 + 3] + dx * oldImageData.data[oldPixelIndex11 + 3]);\n        }\n    }\n\n    return newImageData;\n}\n\nexport function resizeBiquadraticInterpolation(oldImageData, newImageData, newWidth, newHeight) {\n    let interpolate = function interpolate(f1, f2, f3, d) {\n            return (f2 + (f3 - f1) * d + (f1 - 2 * f2 + f3) * d * d);\n        },\n        interpolateNormalize = function interpolateNormalize(f1, f2, f3, d) {\n            let result = interpolate(f1, f2, f3, d);\n            if (result > 255) {\n                return 255;\n            }\n            if (result < 0) {\n                return 0;\n            }\n            return Math.floor(result);\n        },\n        oldWidth = oldImageData.width,\n        oldHeight = oldImageData.height,\n        ratioX = oldWidth / newWidth,\n        ratioY = oldHeight / newHeight,\n        x, y,\n        x0, y0, x1, y1, x2, y2,\n        dx, dy,\n        oldPixelIndex00, oldPixelIndex01, oldPixelIndex02,\n        oldPixelIndex10, oldPixelIndex11, oldPixelIndex12,\n        oldPixelIndex20, oldPixelIndex21, oldPixelIndex22,\n        newPixelIndex,\n        i, j;\n\n    for (i = 0; i < newHeight; i += 1) {\n        for (j = 0; j < newWidth; j += 1) {\n            x = j * ratioX;\n            y = i * ratioY;\n\n            x1 = Math.floor(x);\n            y1 = Math.floor(y);\n            dx = (x - x1) * 0.5;\n            dy = (y - y1) * 0.5;\n\n            if (x1 - 1 >= 0) {\n                x0 = x1 - 1;\n            }\n            else {\n                x0 = x1;\n            }\n\n            if (y1 - 1 >= 0) {\n                y0 = y1 - 1;\n            }\n            else {\n                y0 = y1;\n            }\n\n            if (x1 + 1 >= oldWidth) {\n                x2 = x1;\n            }\n            else {\n                x2 = x1 + 1;\n            }\n\n            if (y1 + 1 >= oldWidth) {\n                y2 = y1;\n            }\n            else {\n                y2 = y1 + 1;\n            }\n\n            oldPixelIndex00 = (y0 * oldWidth + x0) * 4;\n            oldPixelIndex01 = (y0 * oldWidth + x1) * 4;\n            oldPixelIndex02 = (y0 * oldWidth + x2) * 4;\n            oldPixelIndex10 = (y1 * oldWidth + x0) * 4;\n            oldPixelIndex11 = (y1 * oldWidth + x1) * 4;\n            oldPixelIndex12 = (y1 * oldWidth + x2) * 4;\n            oldPixelIndex20 = (y2 * oldWidth + x0) * 4;\n            oldPixelIndex21 = (y2 * oldWidth + x1) * 4;\n            oldPixelIndex22 = (y2 * oldWidth + x2) * 4;\n\n            newPixelIndex = (i * newWidth + j) * 4;\n\n            newImageData.data[newPixelIndex] = (\n                interpolateNormalize(\n                    interpolate(oldImageData.data[oldPixelIndex00], oldImageData.data[oldPixelIndex01], oldImageData.data[oldPixelIndex02], dx),\n                    interpolate(oldImageData.data[oldPixelIndex10], oldImageData.data[oldPixelIndex11], oldImageData.data[oldPixelIndex12], dx),\n                    interpolate(oldImageData.data[oldPixelIndex20], oldImageData.data[oldPixelIndex21], oldImageData.data[oldPixelIndex22], dx),\n                    dy)\n            );\n\n            newImageData.data[newPixelIndex + 1] = (\n                interpolateNormalize(\n                    interpolate(oldImageData.data[oldPixelIndex00 + 1], oldImageData.data[oldPixelIndex01 + 1], oldImageData.data[oldPixelIndex02 + 1], dx),\n                    interpolate(oldImageData.data[oldPixelIndex10 + 1], oldImageData.data[oldPixelIndex11 + 1], oldImageData.data[oldPixelIndex12 + 1], dx),\n                    interpolate(oldImageData.data[oldPixelIndex20 + 1], oldImageData.data[oldPixelIndex21 + 1], oldImageData.data[oldPixelIndex22 + 1], dx),\n                    dy)\n            );\n\n            newImageData.data[newPixelIndex + 2] = (\n                interpolateNormalize(\n                    interpolate(oldImageData.data[oldPixelIndex00 + 2], oldImageData.data[oldPixelIndex01 + 2], oldImageData.data[oldPixelIndex02 + 2], dx),\n                    interpolate(oldImageData.data[oldPixelIndex10 + 2], oldImageData.data[oldPixelIndex11 + 2], oldImageData.data[oldPixelIndex12 + 2], dx),\n                    interpolate(oldImageData.data[oldPixelIndex20 + 2], oldImageData.data[oldPixelIndex21 + 2], oldImageData.data[oldPixelIndex22 + 2], dx),\n                    dy)\n            );\n\n            newImageData.data[newPixelIndex + 3] = (\n                interpolateNormalize(\n                    interpolate(oldImageData.data[oldPixelIndex00 + 3], oldImageData.data[oldPixelIndex01 + 3], oldImageData.data[oldPixelIndex02 + 3], dx),\n                    interpolate(oldImageData.data[oldPixelIndex10 + 3], oldImageData.data[oldPixelIndex11 + 3], oldImageData.data[oldPixelIndex12 + 3], dx),\n                    interpolate(oldImageData.data[oldPixelIndex20 + 3], oldImageData.data[oldPixelIndex21 + 3], oldImageData.data[oldPixelIndex22 + 3], dx),\n                    dy)\n            );\n        }\n    }\n\n    return newImageData;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/resize.js"],"sourceRoot":""}