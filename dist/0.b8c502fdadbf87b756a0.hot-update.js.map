{"version":3,"sources":["webpack:///./src/classes/EffectsRepository.js?2ba1","webpack:///./src/classes/effects/transform/Kaleidoscope.js?7f00"],"names":["availableEffects","add","_class","getName","EffectsRepository","name","KaleidoscopeEffect","centreX","centreY","angle","angle2","sides","radius","parameters","width","height","imageData","icentreX","icentreY","x","y","dx","data","dy","r","Math","sqrt","theta","atan2","PI","c","cos","radiusC","sin"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;AAEA,KAAIA,mBAAmB,EAAvB;;AAEA,UAASC,GAAT,CAAaC,MAAb,EAAqB;AACjBF,sBAAiBE,OAAOC,OAAP,EAAjB,IAAqCD,MAArC;AACH;;AAEDD;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;AACAA;;KAEMG,iB;;;;;;;6BACSC,I,EAAM;AACb,oBAAOL,iBAAiBK,IAAjB,CAAP;AACH;;;;;;mBAGUD,iB;;;;;;;;;;;;;;;ACvDf;;;;AACA;;;;;;;;;;KAEME,kB;;;;;;;;;;;gDAKqB;AACnB,oBAAO;AACHC,0BAAS,GADN;AAEHC,0BAAS,GAFN;AAGHC,wBAAO,CAHJ;AAIHC,yBAAQ,CAJL;AAKHC,wBAAO,CALJ;AAMHC,yBAAQ;AANL,cAAP;AAQH;;;gCAEMC,U,EAAYC,K,EAAOC,M,EAAQC,S,EAAW;AACzC,oBAAO;AACHC,2BAAUH,QAAQD,WAAWN,OAD1B;AAEHW,2BAAUH,SAASF,WAAWL;AAF3B,cAAP;AAIH;;;kCAEQW,C,EAAGC,C,EAAGP,U,EAAY;AACvB,iBAAIQ,KAAKF,IAAI,KAAKG,IAAL,CAAUL,QAAvB;AAAA,iBACIM,KAAKH,IAAI,KAAKE,IAAL,CAAUJ,QADvB;AAAA,iBAEIM,IAAIC,KAAKC,IAAL,CAAUL,KAAKA,EAAL,GAAUE,KAAKA,EAAzB,CAFR;AAAA,iBAGII,QAAQF,KAAKG,KAAL,CAAWL,EAAX,EAAeF,EAAf,IAAqBR,WAAWJ,KAAhC,GAAwCI,WAAWH,MAH/D;;AAKAiB,qBAAQ,sBAASA,QAAQF,KAAKI,EAAb,GAAkBhB,WAAWF,KAA7B,GAAqC,GAA9C,CAAR;;AAEA,iBAAIE,WAAWD,MAAX,KAAsB,CAA1B,EAA6B;AACzB,qBAAIkB,IAAIL,KAAKM,GAAL,CAASJ,KAAT,CAAR;AAAA,qBACIK,UAAUnB,WAAWD,MAAX,GAAoBkB,CADlC;AAEAN,qBAAIQ,UAAU,sBAASR,IAAIQ,OAAb,CAAd;AACH;;AAEDL,sBAASd,WAAWJ,KAApB;;AAEA,oBAAO,CACH,KAAKa,IAAL,CAAUL,QAAV,GAAqBO,IAAIC,KAAKM,GAAL,CAASJ,KAAT,CADtB,EAEH,KAAKL,IAAL,CAAUJ,QAAV,GAAqBM,IAAIC,KAAKQ,GAAL,CAASN,KAAT,CAFtB,CAAP;AAIH;;;mCA1CgB;AACb,oBAAO,cAAP;AACH;;;;;;mBA2CUrB,kB","file":"0.b8c502fdadbf87b756a0.hot-update.js","sourcesContent":["import GrayScale from './effects/point/GrayScale';\nimport Sepia from './effects/point/Sepia';\nimport Contrast from './effects/point/Contrast';\nimport Brightness from './effects/point/Brightness';\nimport Diffusion from './effects/point/Diffusion';\nimport Dither from './effects/point/Dither';\nimport Exposure from './effects/point/Exposure';\nimport Gain from './effects/point/Gain';\nimport Gamma from './effects/point/Gamma';\nimport HSBAdjust from './effects/point/HSBAdjust';\nimport InvertAlpha from './effects/point/InvertAlpha';\nimport Invert from './effects/point/Invert';\nimport Levels from './effects/point/Levels';\nimport Rescale from './effects/point/Rescale';\nimport Solarize from './effects/point/Solarize';\nimport Threshold from './effects/point/Threshold';\nimport Tritone from './effects/point/Tritone';\nimport Dissolve from './effects/point/Dissolve';\n\nimport Diffuse from './effects/transform/Diffuse';\nimport Kaleidoscope from './effects/transform/Kaleidoscope';\n\nlet availableEffects = {};\n\nfunction add(_class) {\n    availableEffects[_class.getName()] = _class;\n}\n\nadd(GrayScale);\nadd(Sepia);\nadd(Contrast);\nadd(Brightness);\nadd(Diffusion);\nadd(Dither);\nadd(Exposure);\nadd(Gain);\nadd(Gamma);\nadd(HSBAdjust);\nadd(InvertAlpha);\nadd(Invert);\nadd(Levels);\nadd(Rescale);\nadd(Solarize);\nadd(Threshold);\nadd(Tritone);\nadd(Diffuse);\nadd(Dissolve);\nadd(Kaleidoscope);\n\nclass EffectsRepository {\n    static get(name) {\n        return availableEffects[name];\n    }\n}\n\nexport default EffectsRepository;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/EffectsRepository.js","import BaseTransformEffect from '../BaseTransform';\nimport {triangle} from '../../../helpers/common';\n\nclass KaleidoscopeEffect extends BaseTransformEffect {\n    static getName() {\n        return 'kaleidoscope';\n    }\n\n    getDefaultParameters() {\n        return {\n            centreX: 0.5,\n            centreY: 0.5,\n            angle: 0,\n            angle2: 0,\n            sides: 3,\n            radius: 0\n        };\n    }\n\n    before(parameters, width, height, imageData) {\n        return {\n            icentreX: width * parameters.centreX,\n            icentreY: height * parameters.centreY\n        };\n    }\n\n    callback(x, y, parameters) {\n        var dx = x - this.data.icentreX,\n            dy = y - this.data.icentreY,\n            r = Math.sqrt(dx * dx + dy * dy),\n            theta = Math.atan2(dy, dx) - parameters.angle - parameters.angle2;\n\n        theta = triangle(theta / Math.PI * parameters.sides * 0.5);\n\n        if (parameters.radius !== 0) {\n            var c = Math.cos(theta),\n                radiusC = parameters.radius / c;\n            r = radiusC * triangle(r / radiusC);\n        }\n\n        theta += parameters.angle;\n\n        return [\n            this.data.icentreX + r * Math.cos(theta),\n            this.data.icentreY + r * Math.sin(theta)\n        ];\n    }\n}\n\nexport default KaleidoscopeEffect;\n\n\n// WEBPACK FOOTER //\n// ./src/classes/effects/transform/Kaleidoscope.js"],"sourceRoot":""}